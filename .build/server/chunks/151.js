"use strict";exports.id=151,exports.ids=[151],exports.modules={44151:(e,t,s)=>{s.d(t,{a:()=>q});var a=s(62901),i=s(24383),r=s(62392),n=s(84374),l=s(83671),c=s(33901),o=s(66843),d=s(11192),m=s(79357),h=s(917),x=s(91046),p=s(19175),u=s(30808),g=s(68832),f=s(94437),b=s(32317),y=s(44928),v=s(21680),j=s(82063),N=s(75811),w=s(34400),A=s(76021),S=s(67935),_=s(42594),I=s(22857),Z=s(68637),E=s(27878),P=s(31606),k=s(8630);let C=[{title:"Dashboard",href:"/dashboard",icon:l.Z,description:"Main control center",children:[{title:"Overview",href:"/dashboard",icon:c.Z,description:"System overview and metrics"},{title:"Admin Panel",href:"/dashboard/admin",icon:o.Z,permission:"admin.view",description:"User and system management"},{title:"AI Operations",href:"/dashboard/ai",icon:d.Z,description:"AI models, agents, and costs"},{title:"Finances",href:"/dashboard/finances",icon:m.Z,description:"Financial tracking and analysis"},{title:"Projects",href:"/dashboard/projects",icon:h.Z,description:"Project management and tracking"},{title:"Competitor Intel",href:"/dashboard/competitor",icon:x.Z,description:"Competitive intelligence monitoring"},{title:"IP Protection",href:"/dashboard/ip-protection",icon:p.Z,description:"Intellectual property management"},{title:"Impact Assessment",href:"/dashboard/impact-assessment",icon:u.Z,description:"Change impact analysis"},{title:"Social Media",href:"/dashboard/social",icon:g.Z,description:"Social media analytics"}]},{title:"AI Chat",href:"/chat",icon:f.Z,description:"Intelligent conversation interface",badge:"AI"},{title:"Monitoring",href:"/monitoring",icon:g.Z,description:"System monitoring and health",children:[{title:"System Logs",href:"/dashboard/logs",icon:b.Z,description:"Comprehensive system logging"},{title:"Security Events",href:"/dashboard/security",icon:y.Z,description:"Security monitoring and alerts"},{title:"Issues & Reports",href:"/dashboard/issues",icon:v.Z,description:"Issue tracking and resolution"},{title:"Performance",href:"/monitoring/performance",icon:j.Z,description:"System performance metrics"}]},{title:"Integrations",href:"/integrations",icon:N.Z,description:"External service management",children:[{title:"API Management",href:"/integrations",icon:N.Z,description:"Manage all API connections"},{title:"Email Systems",href:"/settings/email",icon:w.Z,description:"Gmail and email integrations"},{title:"Payment Systems",href:"/settings/payments",icon:m.Z,description:"Paystack and payment processing"}]},{title:"Tasks & Calendar",href:"/dashboard/tasks",icon:A.Z,description:"Task and schedule management"},{title:"Settings",href:"/settings",icon:S.Z,description:"System configuration",children:[{title:"General",href:"/settings",icon:S.Z,description:"General system settings"},{title:"API Keys",href:"/settings/api",icon:p.Z,description:"API key management"},{title:"SEO & Analytics",href:"/settings/seo",icon:u.Z,description:"SEO and analytics configuration"},{title:"System Controls",href:"/settings/system",icon:j.Z,description:"Advanced system controls"}]}];function T(){let e=(0,n.usePathname)(),{state:t}=(0,k._)(),[s,l]=(0,i.useState)(!1),c=e=>!e||t.currentUser?.permissions.includes(e)||t.currentUser?.role==="admin",o=t=>!!("/dashboard"===t&&"/dashboard"===e||"/dashboard"!==t&&e.startsWith(t))||e===t,m=(e,s=0)=>{if(!c(e.permission))return null;let i=o(e.href),n=e.children&&e.children.length>0;return(0,a.jsxs)("div",{className:(0,Z.cn)("relative",s>0&&"ml-4"),children:[(0,a.jsxs)(r.default,{href:e.href,className:(0,Z.cn)("flex items-center gap-3 rounded-lg px-3 py-2 text-sm font-medium transition-all duration-200","hover:bg-white/10 hover:text-white",i?"bg-blue-600 text-white shadow-lg shadow-blue-500/25":"text-slate-300",s>0&&"text-xs py-1.5"),onClick:()=>l(!1),children:[a.jsx(e.icon,{className:(0,Z.cn)("h-4 w-4",s>0&&"h-3.5 w-3.5")}),a.jsx("span",{className:"flex-1",children:e.title}),e.badge&&a.jsx(P.C,{variant:"secondary",className:"bg-blue-500/20 text-blue-200 border-blue-400/30",children:e.badge}),t.notifications.filter(e=>!e.read).length>0&&"/monitoring"===e.href&&a.jsx(P.C,{variant:"destructive",className:"bg-red-500/20 text-red-200 border-red-400/30",children:t.notifications.filter(e=>!e.read).length})]}),n&&(i||0===s)&&a.jsx("div",{className:(0,Z.cn)("mt-1 space-y-1",s>0&&"ml-2"),children:e.children?.map(e=>m(e,s+1))})]},e.href)};return(0,a.jsxs)(a.Fragment,{children:[a.jsx("div",{className:"lg:hidden fixed top-4 left-4 z-50",children:a.jsx(E.z,{variant:"outline",size:"sm",onClick:()=>l(!s),className:"bg-slate-800/80 border-slate-600 text-white hover:bg-slate-700",children:s?a.jsx(_.Z,{className:"h-4 w-4"}):a.jsx(I.Z,{className:"h-4 w-4"})})}),s&&a.jsx("div",{className:"lg:hidden fixed inset-0 bg-black/50 z-40",onClick:()=>l(!1)}),a.jsx("nav",{className:(0,Z.cn)("fixed left-0 top-0 z-40 h-full w-64 bg-slate-900/95 backdrop-blur-sm border-r border-slate-700/50 transition-transform duration-300","lg:translate-x-0",s?"translate-x-0":"-translate-x-full lg:translate-x-0"),children:(0,a.jsxs)("div",{className:"flex h-full flex-col",children:[(0,a.jsxs)("div",{className:"flex h-16 items-center justify-between border-b border-slate-700/50 px-4",children:[(0,a.jsxs)(r.default,{href:"/",className:"flex items-center gap-2 font-bold text-white",onClick:()=>l(!1),children:[a.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-lg bg-gradient-to-br from-blue-500 to-purple-600",children:a.jsx(d.Z,{className:"h-4 w-4 text-white"})}),a.jsx("span",{children:"WRDO CAVE"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[a.jsx("div",{className:(0,Z.cn)("h-2 w-2 rounded-full","healthy"===t.systemHealth.aiStatus?"bg-green-400":"bg-red-400")}),a.jsx("span",{className:"text-xs text-slate-400",children:t.systemHealth.aiStatus})]})]}),t.currentUser&&a.jsx("div",{className:"border-b border-slate-700/50 p-4",children:(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-full bg-blue-600 text-sm font-medium text-white",children:t.currentUser.name.charAt(0)}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-sm font-medium text-white truncate",children:t.currentUser.name}),a.jsx("p",{className:"text-xs text-slate-400 capitalize",children:t.currentUser.role})]})]})}),a.jsx("div",{className:"flex-1 overflow-y-auto px-4 py-4",children:a.jsx("div",{className:"space-y-2",children:C.map(e=>m(e))})}),a.jsx("div",{className:"border-t border-slate-700/50 p-4",children:(0,a.jsxs)("div",{className:"text-xs text-slate-400",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[a.jsx("span",{children:"WRDO Cave Ultra"}),a.jsx("span",{className:"text-green-400",children:"v2.0"})]}),t.selectedModel&&(0,a.jsxs)("div",{className:"mt-1 flex items-center gap-2",children:[a.jsx(d.Z,{className:"h-3 w-3"}),a.jsx("span",{className:"truncate",children:t.selectedModel})]})]})})]})})]})}var O=s(61659),D=s(23094),M=s(15934),z=s(85453),U=s(23803),R=s(13943),H=s(80412);function F(){let{state:e,dispatch:t}=(0,k._)(),[s,r]=(0,i.useState)(!1),n=e.notifications.filter(e=>!e.read).length,l=e=>{t({type:"MARK_NOTIFICATION_READ",payload:e})},c=e=>{switch(e){case"error":return a.jsx(O.Z,{className:"h-4 w-4 text-red-400"});case"warning":return a.jsx(v.Z,{className:"h-4 w-4 text-yellow-400"});case"success":return a.jsx(D.Z,{className:"h-4 w-4 text-green-400"});default:return a.jsx(M.Z,{className:"h-4 w-4 text-blue-400"})}},o=e=>{switch(e){case"error":return"border-red-500/30 bg-red-500/10";case"warning":return"border-yellow-500/30 bg-yellow-500/10";case"success":return"border-green-500/30 bg-green-500/10";default:return"border-blue-500/30 bg-blue-500/10"}};return(0,a.jsxs)(a.Fragment,{children:[a.jsx("div",{className:"relative",children:(0,a.jsxs)(E.z,{variant:"outline",size:"sm",onClick:()=>r(!s),className:"relative bg-slate-800/80 border-slate-600 text-white hover:bg-slate-700",children:[a.jsx(w.Z,{className:"h-4 w-4"}),n>0&&a.jsx(P.C,{variant:"destructive",className:"absolute -top-2 -right-2 h-5 w-5 rounded-full p-0 flex items-center justify-center text-xs",children:n>9?"9+":n})]})}),a.jsx(R.M,{children:s&&a.jsx(H.E.div,{initial:{opacity:0,scale:.95,y:10},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:10},className:"absolute bottom-full right-0 mb-2 w-80 max-h-96 overflow-hidden",children:(0,a.jsxs)(U.Zb,{className:"bg-slate-800/95 border-slate-600 backdrop-blur-sm",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between p-4 border-b border-slate-600",children:[a.jsx("h3",{className:"font-medium text-white",children:"Notifications"}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[n>0&&a.jsx(E.z,{variant:"ghost",size:"sm",onClick:()=>{e.notifications.forEach(e=>{e.read||l(e.id)})},className:"text-xs text-slate-400 hover:text-white",children:"Mark all read"}),a.jsx(E.z,{variant:"ghost",size:"sm",onClick:()=>r(!1),className:"h-6 w-6 p-0 text-slate-400 hover:text-white",children:a.jsx(_.Z,{className:"h-4 w-4"})})]})]}),a.jsx(U.aY,{className:"p-0 max-h-80 overflow-y-auto",children:0===e.notifications.length?(0,a.jsxs)("div",{className:"p-4 text-center text-slate-400",children:[a.jsx(w.Z,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),a.jsx("p",{className:"text-sm",children:"No notifications"})]}):a.jsx("div",{className:"divide-y divide-slate-600",children:e.notifications.map(e=>a.jsx(H.E.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:(0,Z.cn)("p-4 hover:bg-slate-700/50 transition-colors cursor-pointer",!e.read&&"bg-slate-700/30",o(e.type)),onClick:()=>l(e.id),children:(0,a.jsxs)("div",{className:"flex items-start gap-3",children:[c(e.type),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[a.jsx("h4",{className:"text-sm font-medium text-white truncate",children:e.title}),!e.read&&a.jsx("div",{className:"h-2 w-2 rounded-full bg-blue-400"})]}),a.jsx("p",{className:"text-xs text-slate-300 mt-1 line-clamp-2",children:e.message}),a.jsx("p",{className:"text-xs text-slate-400 mt-1",children:new Date(e.timestamp).toLocaleTimeString()})]}),!e.read&&a.jsx(E.z,{variant:"ghost",size:"sm",onClick:t=>{t.stopPropagation(),l(e.id)},className:"h-6 w-6 p-0 text-slate-400 hover:text-white",children:a.jsx(z.Z,{className:"h-3 w-3"})})]})},e.id))})})]})})})]})}var G=s(7070),L=s(20302),W=s(21391);function Y(){let{state:e}=(0,k._)(),t=e=>{switch(e){case"healthy":case"connected":return"text-green-400";case"degraded":return"text-yellow-400";case"offline":case"error":return"text-red-400";default:return"text-slate-400"}},s=e=>{switch(e){case"healthy":case"connected":return"●";case"degraded":return"◐";case"offline":case"error":return"○";default:return"◯"}};return(0,a.jsxs)(H.E.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"sticky top-0 z-30 bg-slate-900/95 backdrop-blur-sm border-b border-slate-700/50",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between px-4 py-2 text-xs",children:[a.jsx("div",{className:"flex items-center gap-4",children:e.currentPage&&(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-slate-400",children:"Page:"}),a.jsx(P.C,{variant:"outline",className:"text-blue-300 border-blue-400/30",children:e.currentPage.title}),e.pageAwareness.entitiesOnPage.length>0&&(0,a.jsxs)(P.C,{variant:"outline",className:"text-purple-300 border-purple-400/30",children:[e.pageAwareness.entitiesOnPage.length," items"]})]})}),(0,a.jsxs)("div",{className:"flex items-center gap-6",children:[(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[a.jsx(d.Z,{className:"h-3 w-3"}),(0,a.jsxs)("span",{className:(0,Z.cn)("text-xs",t(e.systemHealth.aiStatus)),children:[s(e.systemHealth.aiStatus)," AI"]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[a.jsx(G.Z,{className:"h-3 w-3"}),(0,a.jsxs)("span",{className:(0,Z.cn)("text-xs",t(e.systemHealth.dbStatus)),children:[s(e.systemHealth.dbStatus)," DB"]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[a.jsx(L.Z,{className:"h-3 w-3"}),(0,a.jsxs)("span",{className:"text-xs text-slate-400",children:["APIs: ",Object.values(e.systemHealth.apiStatus).filter(e=>"connected"===e).length,"/",Object.keys(e.systemHealth.apiStatus).length]})]}),e.notifications.filter(e=>!e.read&&"error"===e.type).length>0&&(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[a.jsx(v.Z,{className:"h-3 w-3 text-red-400"}),(0,a.jsxs)("span",{className:"text-xs text-red-400",children:[e.notifications.filter(e=>!e.read&&"error"===e.type).length," alerts"]})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[e.selectedModel&&(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-slate-400",children:"Model:"}),a.jsx(P.C,{variant:"outline",className:"text-green-300 border-green-400/30",children:e.selectedModel})]}),(0,a.jsxs)("div",{className:"flex items-center gap-1 text-slate-400",children:[a.jsx(W.Z,{className:"h-3 w-3"}),a.jsx("span",{className:"text-xs",children:new Date().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})]})]}),e.pageAwareness.suggestions.length>0&&a.jsx("div",{className:"px-4 py-1 bg-blue-900/20 border-t border-blue-500/30",children:(0,a.jsxs)("div",{className:"flex items-center gap-2 text-xs",children:[a.jsx(d.Z,{className:"h-3 w-3 text-blue-400"}),a.jsx("span",{className:"text-blue-300",children:"WRDO suggests:"}),a.jsx("div",{className:"flex items-center gap-2",children:e.pageAwareness.suggestions.slice(0,3).map((e,t)=>a.jsx(P.C,{variant:"outline",className:"text-blue-200 border-blue-400/30 hover:bg-blue-500/20 cursor-pointer transition-colors",children:e},t))})]})})]})}var $=s(97718),B=s(91464),K=s(68734);function J(){let[e,t]=(0,i.useState)(!1),{state:s,actions:r}=(0,k._)(),l=(0,n.useRouter)(),c=[{icon:f.Z,label:"AI Chat",action:()=>l.push("/chat"),color:"text-blue-400",bgColor:"hover:bg-blue-500/20"},{icon:$.Z,label:"Create Entry",action:()=>{let e=s.currentPage?.path;e?.includes("/finances")?l.push("/dashboard/finances?action=create"):e?.includes("/projects")?l.push("/dashboard/projects?action=create"):l.push("/dashboard?action=create")},color:"text-green-400",bgColor:"hover:bg-green-500/20"},{icon:B.Z,label:"Upload File",action:()=>{r.addNotification({type:"info",title:"File Upload",message:"File upload feature will open here",read:!1})},color:"text-purple-400",bgColor:"hover:bg-purple-500/20"},{icon:x.Z,label:"Search",action:()=>{r.addNotification({type:"info",title:"Global Search",message:"Search functionality will be implemented here",read:!1})},color:"text-yellow-400",bgColor:"hover:bg-yellow-500/20"},{icon:K.Z,label:"Export Data",action:()=>{r.addNotification({type:"info",title:"Data Export",message:"Export functionality for current page data",read:!1})},color:"text-orange-400",bgColor:"hover:bg-orange-500/20"},{icon:S.Z,label:"Quick Settings",action:()=>l.push("/settings"),color:"text-slate-400",bgColor:"hover:bg-slate-500/20"}];return(0,a.jsxs)(a.Fragment,{children:[a.jsx(R.M,{children:e&&a.jsx(H.E.div,{initial:{opacity:0,scale:.95,y:10},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:10},className:"absolute bottom-full right-0 mb-2",children:a.jsx(U.Zb,{className:"bg-slate-800/95 border-slate-600 backdrop-blur-sm",children:(0,a.jsxs)(U.aY,{className:"p-3",children:[a.jsx("div",{className:"grid grid-cols-2 gap-2 w-64",children:c.map((e,s)=>(0,a.jsxs)(H.E.button,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.05*s},onClick:()=>{e.action(),t(!1),r.logAction("quick_action",{action:e.label})},className:(0,Z.cn)("flex flex-col items-center gap-2 p-3 rounded-lg transition-all duration-200","hover:bg-white/10 text-white",e.bgColor),children:[a.jsx(e.icon,{className:(0,Z.cn)("h-5 w-5",e.color)}),a.jsx("span",{className:"text-xs font-medium",children:e.label})]},e.label))}),s.pageAwareness.suggestions.length>0&&(0,a.jsxs)("div",{className:"mt-3 pt-3 border-t border-slate-600",children:[a.jsx("p",{className:"text-xs text-slate-400 mb-2",children:"Page Suggestions:"}),a.jsx("div",{className:"space-y-1",children:s.pageAwareness.suggestions.slice(0,2).map((e,s)=>a.jsx("button",{className:"w-full text-left text-xs text-blue-300 hover:text-blue-200 px-2 py-1 rounded hover:bg-blue-500/20 transition-colors",onClick:()=>{r.addNotification({type:"info",title:"AI Suggestion",message:`Executing: ${e}`,read:!1}),t(!1)},children:e},s))})]})]})})})}),a.jsx(E.z,{variant:"outline",size:"sm",onClick:()=>t(!e),className:"bg-slate-800/80 border-slate-600 text-white hover:bg-slate-700",children:a.jsx(j.Z,{className:"h-4 w-4"})})]})}function V({children:e,user:t,hideNavigation:s,className:i}){let{state:r,actions:n}=(0,k._)();return(0,a.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-slate-950 via-blue-950 to-slate-900",children:[!s&&a.jsx(T,{}),(0,a.jsxs)("div",{className:(0,Z.cn)("flex-1",!s&&"lg:ml-64",i),children:[a.jsx(Y,{}),a.jsx("main",{className:"relative min-h-screen",children:e}),(0,a.jsxs)("div",{className:"fixed bottom-4 right-4 z-50 flex flex-col gap-3",children:[a.jsx(J,{}),a.jsx(F,{})]})]})]})}function q(e){return a.jsx(k.x,{children:a.jsx(V,{...e})})}},31606:(e,t,s)=>{s.d(t,{C:()=>l});var a=s(62901);s(24383);var i=s(47279),r=s(68637);let n=(0,i.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function l({className:e,variant:t,...s}){return a.jsx("div",{className:(0,r.cn)(n({variant:t}),e),...s})}},8630:(e,t,s)=>{s.d(t,{_:()=>d,x:()=>o});var a=s(62901),i=s(24383),r=s(84374);let n={isInitialized:!1,currentUser:null,currentPage:null,activeModels:[],selectedModel:null,fallbackChain:["gpt-4o","gemini-pro","deepseek-chat"],memory:null,pageAwareness:{entitiesOnPage:[],availableActions:[],suggestions:[]},systemHealth:{aiStatus:"healthy",dbStatus:"connected",apiStatus:{}},dashboardData:{},notifications:[]};function l(e,t){switch(t.type){case"INITIALIZE":return{...e,...t.payload,isInitialized:!0};case"SET_USER":return{...e,currentUser:t.payload};case"SET_PAGE":return{...e,currentPage:t.payload,pageAwareness:{...e.pageAwareness,entitiesOnPage:[],availableActions:({dashboard:["create_entry","edit_entry","delete_entry","export_data","analyze_trends"],chat:["send_message","upload_file","change_model","save_conversation","voice_input"],settings:["update_setting","manage_api_keys","backup_data","reset_preferences"],admin:["manage_users","view_logs","system_health","security_events","manage_permissions"],monitoring:["view_metrics","set_alerts","export_logs","investigate_issues"]})[t.payload.type]||[],suggestions:[]}};case"SET_MODEL":return{...e,selectedModel:t.payload};case"UPDATE_MEMORY":return{...e,memory:e.memory?{...e.memory,...t.payload}:t.payload};case"UPDATE_PAGE_ENTITIES":return{...e,pageAwareness:{...e.pageAwareness,entitiesOnPage:t.payload}};case"ADD_NOTIFICATION":return{...e,notifications:[t.payload,...e.notifications.slice(0,19)]};case"MARK_NOTIFICATION_READ":return{...e,notifications:e.notifications.map(e=>e.id===t.payload?{...e,read:!0}:e)};case"UPDATE_SYSTEM_HEALTH":return{...e,systemHealth:{...e.systemHealth,...t.payload}};case"UPDATE_DASHBOARD_DATA":return{...e,dashboardData:{...e.dashboardData,[t.payload.key]:t.payload.data}};case"SET_AI_SUGGESTIONS":return{...e,pageAwareness:{...e.pageAwareness,suggestions:t.payload}};default:return e}}let c=(0,i.createContext)(null);function o({children:e}){let[t,s]=(0,i.useReducer)(l,n);(0,r.usePathname)();let o=e=>{s({type:"ADD_NOTIFICATION",payload:{...e,id:`notif_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,timestamp:new Date}})},d=(e,s)=>{console.log("WRDO Action:",{action:e,details:s,user:t.currentUser?.id,page:t.currentPage?.path})},x=async()=>{try{let e=await m();s({type:"UPDATE_SYSTEM_HEALTH",payload:e});let t=await h();s({type:"INITIALIZE",payload:{activeModels:t}})}catch(e){o({type:"error",title:"System Initialization Error",message:"Failed to load system data",read:!1})}};return a.jsx(c.Provider,{value:{state:t,dispatch:s,actions:{initializeWRDO:e=>{s({type:"INITIALIZE",payload:e||{}}),x()},setCurrentUser:e=>{s({type:"SET_USER",payload:e}),function(e){let t=localStorage.getItem(`wrdo_memory_${e}`);if(t)try{JSON.parse(t)}catch(e){console.error("Failed to load stored memory:",e)}}(e.id)},updatePageContext:e=>{s({type:"SET_PAGE",payload:e})},selectModel:e=>{s({type:"SET_MODEL",payload:e}),d("model_selected",{modelId:e,page:t.currentPage?.path})},addNotification:o,updateMemory:e=>{s({type:"UPDATE_MEMORY",payload:e}),e.userId&&localStorage.setItem(`wrdo_memory_${e.userId}`,JSON.stringify(e))},suggestActions:e=>{s({type:"SET_AI_SUGGESTIONS",payload:function(e,t,s){if(!e)return[];let a=[];switch(e.type){case"dashboard":a.push("Analyze recent trends","Generate report","Set up alerts");break;case"chat":a.push("Upload document for analysis","Switch to specialized model","Save conversation");break;case"settings":a.push("Test API connections","Backup configurations","Review security settings")}return t.length>0&&a.push(`Process ${t.length} items`),a}(t.currentPage,t.pageAwareness.entitiesOnPage,0)})},logAction:d}},children:e})}function d(){let e=(0,i.useContext)(c);if(!e)throw Error("useWRDO must be used within a WRDOProvider");return e}async function m(){return{aiStatus:"healthy",dbStatus:"connected",apiStatus:{openai:"connected",gmail:"connected",paystack:"connected"}}}async function h(){return[{id:"gpt-4o",name:"GPT-4o",provider:"openai",isActive:!0,isPrimary:!0,costPerToken:3e-5,fallbackOrder:1},{id:"gemini-pro",name:"Gemini Pro",provider:"gemini",isActive:!0,isPrimary:!1,costPerToken:1e-6,fallbackOrder:2},{id:"deepseek-chat",name:"DeepSeek Chat",provider:"deepseek",isActive:!0,isPrimary:!1,costPerToken:5e-7,fallbackOrder:3}]}}};