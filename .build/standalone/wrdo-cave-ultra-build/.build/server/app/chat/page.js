(()=>{var e={};e.id=1929,e.ids=[1929],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},6357:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>r.a,__next_app__:()=>x,originalPathname:()=>m,pages:()=>o,routeModule:()=>h,tree:()=>d}),t(62165),t(79457),t(35866);var a=t(23191),l=t(88716),i=t(37922),r=t.n(i),n=t(95231),c={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>n[e]);t.d(s,c);let d=["",{children:["chat",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,62165)),"/home/ubuntu/wrdo-cave-ultra-build/app/chat/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,79457)),"/home/ubuntu/wrdo-cave-ultra-build/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,35866,23)),"next/dist/client/components/not-found-error"]}],o=["/home/ubuntu/wrdo-cave-ultra-build/app/chat/page.tsx"],m="/chat/page",x={require:t,loadChunk:()=>Promise.resolve()},h=new a.AppPageRouteModule({definition:{kind:l.x.APP_PAGE,page:"/chat/page",pathname:"/chat",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},92593:(e,s,t)=>{Promise.resolve().then(t.bind(t,29338))},29338:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>_,dynamic:()=>A});var a=t(10326),l=t(17577),i=t(33071),r=t(90772),n=t(87673),c=t(567),d=t(34474),o=t(98360),m=t(50732),x=t(30361),h=t(50949),u=t(21405),p=t(36283),g=t(63685),j=t(62881);let f=(0,j.Z)("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]),v=(0,j.Z)("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);var b=t(31540),N=t(88378),w=t(24427),y=t(77793),C=t(86462),k=t(16856),$=t(83686);let A="force-dynamic";function _(){let{state:e,actions:s}=(0,w.f)(),[t,j]=(0,l.useState)([{id:"1",role:"system",content:"Welcome to WRDO Cave Ultra AI Chat! I'm your intelligent assistant with access to multiple AI models and autonomous agents. How can I help you today?",timestamp:new Date}]),[A,_]=(0,l.useState)(""),[E,G]=(0,l.useState)("gpt-4o"),[D,P]=(0,l.useState)(!1),[T,z]=(0,l.useState)([]),[I,S]=(0,l.useState)(!1),[q,R]=(0,l.useState)(0),Z=(0,l.useRef)(null),M=(0,l.useRef)(null),[U,F]=(0,l.useState)(null),O=async()=>{if(!A.trim()&&0===T.length)return;let a={id:`msg_${Date.now()}`,role:"user",content:A,timestamp:new Date};j(e=>[...e,a]),_(""),P(!0);try{if($.$C[E]){let s=await $.eF.requestAgentExecution(E,A,{userId:e.currentUser?.id||"unknown",justification:"User requested agent execution"}),t={id:`msg_${Date.now()}_agent`,role:"assistant",content:`🤖 **Agent Execution Request**

Agent: ${$.$C[E].name}
Task: ${A}
Estimated Cost: ${(0,$.GG)(s.estimatedCost)}
Estimated Time: ${s.estimatedTime} minutes
Risk Level: ${s.riskLevel}

This request requires approval before execution. Would you like to proceed?`,timestamp:new Date,isAgent:!0,needsApproval:!0,approved:!1};j(e=>[...e,t])}else{let a=t.slice(-10).map(e=>({role:e.role,content:e.content}));a.push({role:"user",content:A});let l=await $.eF.chatCompletion(a,E,{userId:e.currentUser?.id,conversationId:`chat_${Date.now()}`}),i={id:`msg_${Date.now()}_ai`,role:"assistant",content:l.content,timestamp:new Date,model:l.model,cost:l.cost,processingTime:l.processingTime,metadata:{provider:l.provider,tokensUsed:l.tokensUsed,fallbackUsed:l.fallbackUsed,fallbackReason:l.fallbackReason}};j(e=>[...e,i]),R(e=>e+l.cost),s.addNotification({type:"success",title:"AI Response Generated",message:`Response from ${l.model} - Cost: ${(0,$.GG)(l.cost)}`,read:!1})}}catch(t){let e={id:`msg_${Date.now()}_error`,role:"assistant",content:`❌ **Error**: ${t instanceof Error?t.message:"Unknown error occurred"}`,timestamp:new Date};j(s=>[...s,e]),s.addNotification({type:"error",title:"AI Request Failed",message:t instanceof Error?t.message:"Unknown error",read:!1})}finally{P(!1)}},L=async e=>{let s=t.findIndex(s=>s.id===e);if(-1===s)return;let a=[...t];a[s]={...a[s],approved:!0,content:a[s].content.replace("Would you like to proceed?","✅ **Approved - Executing...**")},j(a),setTimeout(()=>{let e={id:`msg_${Date.now()}_agent_result`,role:"assistant",content:`🤖 **Agent Execution Complete**

Agent: ${$.$C[E].name}
Execution Time: 2.5 minutes
Cost: ${(0,$.GG)(5)}
Status: ✅ Success

**Results:**
- Comprehensive analysis completed
- 15 data points processed
- 3 recommendations generated
- Full report available for download`,timestamp:new Date,isAgent:!0,cost:5};j(s=>[...s,e]),R(e=>e+5)},3e3)};return U?a.jsx(y.a,{user:U,children:a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-950 via-blue-950 to-slate-900 p-6",children:(0,a.jsxs)("div",{className:"max-w-6xl mx-auto space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"AI Chat Interface"}),a.jsx("p",{className:"text-slate-400",children:"Intelligent conversation with multiple AI models and agents"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsxs)(c.C,{variant:"outline",className:"text-blue-300 border-blue-400/30",children:[t.filter(e=>"system"!==e.role).length," messages"]}),(0,a.jsxs)(c.C,{variant:"outline",className:"text-green-300 border-green-400/30",children:["Total: ",(0,$.GG)(q)]})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[a.jsx("div",{className:"lg:col-span-3",children:(0,a.jsxs)(i.Zb,{className:"bg-slate-800/50 border-slate-700 h-[70vh] flex flex-col",children:[a.jsx(i.Ol,{className:"border-b border-slate-700",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)(i.ll,{className:"text-white flex items-center gap-2",children:[a.jsx(o.Z,{className:"h-5 w-5"}),"WRDO AI Chat"]}),a.jsx("div",{className:"flex items-center gap-2",children:(0,a.jsxs)(d.Ph,{value:E,onValueChange:G,children:[a.jsx(d.i4,{className:"w-48 bg-slate-700 border-slate-600 text-white",children:a.jsx(d.ki,{})}),(0,a.jsxs)(d.Bw,{className:"bg-slate-700 border-slate-600",children:[Object.values($.jd).map(e=>(0,a.jsxs)(d.Ql,{value:e.id,className:"text-white hover:bg-slate-600",children:[e.name," - ",(0,$.GG)(1e3*e.costPerToken),"/1k tokens"]},e.id)),Object.values($.$C).map(e=>(0,a.jsxs)(d.Ql,{value:e.id,className:"text-white hover:bg-slate-600",children:["\uD83E\uDD16 ",e.name," - $",e.estimatedCostPerRequest,"/request"]},e.id))]})]})})]})}),(0,a.jsxs)(i.aY,{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[a.jsx(C.M,{children:t.map(e=>a.jsx(k.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:`flex ${"user"===e.role?"justify-end":"justify-start"}`,children:(0,a.jsxs)("div",{className:`max-w-[80%] rounded-lg p-4 ${"user"===e.role?"bg-blue-600 text-white":"system"===e.role?"bg-slate-700/50 text-slate-300 border border-slate-600":"bg-slate-700 text-white"}`,children:[e.isAgent&&(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx(m.Z,{className:"h-4 w-4"}),a.jsx("span",{className:"text-xs font-medium",children:"AI Agent"})]}),a.jsx("div",{className:"whitespace-pre-wrap",children:e.content}),e.needsApproval&&!e.approved&&(0,a.jsxs)("div",{className:"mt-3 flex gap-2",children:[(0,a.jsxs)(r.z,{size:"sm",className:"bg-green-600 hover:bg-green-700",onClick:()=>L(e.id),children:[a.jsx(x.Z,{className:"h-3 w-3 mr-1"}),"Approve"]}),(0,a.jsxs)(r.z,{size:"sm",variant:"outline",className:"border-red-400 text-red-300 hover:bg-red-500/20",children:[a.jsx(h.Z,{className:"h-3 w-3 mr-1"}),"Deny"]})]}),(0,a.jsxs)("div",{className:"mt-2 flex items-center gap-4 text-xs text-slate-400",children:[a.jsx("span",{children:e.timestamp.toLocaleTimeString()}),e.model&&(0,a.jsxs)("span",{children:["Model: ",e.model]}),e.cost&&(0,a.jsxs)("span",{children:["Cost: ",(0,$.GG)(e.cost)]}),e.processingTime&&(0,a.jsxs)("span",{children:["Time: ",e.processingTime,"ms"]})]})]})},e.id))}),D&&a.jsx(k.E.div,{initial:{opacity:0},animate:{opacity:1},className:"flex justify-start",children:a.jsx("div",{className:"bg-slate-700 text-white rounded-lg p-4 max-w-[80%]",children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[a.jsx(u.Z,{className:"h-4 w-4 animate-spin"}),a.jsx("span",{children:"AI is thinking..."})]})})}),a.jsx("div",{ref:Z})]}),(0,a.jsxs)("div",{className:"p-4 border-t border-slate-700",children:[T.length>0&&a.jsx("div",{className:"mb-3 flex flex-wrap gap-2",children:T.map(e=>(0,a.jsxs)(c.C,{variant:"outline",className:"text-blue-300 border-blue-400/30",children:[a.jsx(p.Z,{className:"h-3 w-3 mr-1"}),e.name]},e.id))}),(0,a.jsxs)("div",{className:"flex items-end gap-3",children:[(0,a.jsxs)("div",{className:"flex-1",children:[a.jsx(n.g,{value:A,onChange:e=>_(e.target.value),placeholder:"Type your message...",className:"bg-slate-700 border-slate-600 text-white resize-none",rows:3,onKeyDown:e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),O())}}),A&&(0,a.jsxs)("div",{className:"mt-1 text-xs text-slate-400",children:["Estimated cost: ",(0,$.GG)((0,$.GZ)(A,E))]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[a.jsx("input",{type:"file",ref:M,onChange:e=>{let t=Array.from(e.target.files||[]);t.forEach(e=>{let s={id:`file_${Date.now()}_${Math.random()}`,name:e.name,size:e.size,type:e.type};z(e=>[...e,s])}),s.addNotification({type:"success",title:"Files Uploaded",message:`${t.length} file(s) uploaded successfully`,read:!1})},multiple:!0,accept:".pdf,.doc,.docx,.txt,.png,.jpg,.jpeg",className:"hidden"}),a.jsx(r.z,{variant:"outline",size:"sm",onClick:()=>M.current?.click(),className:"text-white border-slate-600",children:a.jsx(g.Z,{className:"h-4 w-4"})}),a.jsx(r.z,{variant:"outline",size:"sm",onClick:()=>{S(!I),s.addNotification({type:"info",title:"Voice Feature",message:I?"Voice recording stopped":"Voice recording started (placeholder)",read:!1})},className:`text-white border-slate-600 ${I?"bg-red-500/20":""}`,children:a.jsx(f,{className:"h-4 w-4"})}),a.jsx(r.z,{onClick:O,disabled:D||!A.trim()&&0===T.length,className:"bg-blue-600 hover:bg-blue-700",children:a.jsx(v,{className:"h-4 w-4"})})]})]})]})]})}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)(i.Zb,{className:"bg-slate-800/50 border-slate-700",children:[a.jsx(i.Ol,{children:a.jsx(i.ll,{className:"text-white text-sm",children:"Current Model"})}),a.jsx(i.aY,{className:"space-y-3",children:$.jd[E]?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-white font-medium",children:$.jd[E].name}),a.jsx("p",{className:"text-xs text-slate-400",children:$.jd[E].provider})]}),(0,a.jsxs)("div",{className:"text-xs text-slate-300",children:[(0,a.jsxs)("p",{children:["Cost: ",(0,$.GG)(1e3*$.jd[E].costPerToken),"/1k tokens"]}),(0,a.jsxs)("p",{children:["Max tokens: ",$.jd[E].maxTokens.toLocaleString()]})]}),a.jsx("div",{className:"flex flex-wrap gap-1",children:$.jd[E].capabilities.map(e=>a.jsx(c.C,{variant:"outline",className:"text-xs text-slate-300",children:e},e))})]}):$.$C[E]?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-white font-medium",children:$.$C[E].name}),a.jsx("p",{className:"text-xs text-slate-400",children:"AI Agent"})]}),(0,a.jsxs)("div",{className:"text-xs text-slate-300",children:[(0,a.jsxs)("p",{children:["Est. cost: $",$.$C[E].estimatedCostPerRequest,"/request"]}),(0,a.jsxs)("p",{children:["Max time: ",$.$C[E].maxExecutionTime," minutes"]}),(0,a.jsxs)("p",{children:["Risk: ",$.$C[E].riskLevel]})]}),a.jsx("p",{className:"text-xs text-slate-400",children:$.$C[E].description})]}):null})]}),(0,a.jsxs)(i.Zb,{className:"bg-slate-800/50 border-slate-700",children:[a.jsx(i.Ol,{children:a.jsx(i.ll,{className:"text-white text-sm",children:"Session Stats"})}),(0,a.jsxs)(i.aY,{className:"space-y-3 text-sm",children:[(0,a.jsxs)("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-slate-400",children:"Messages:"}),a.jsx("span",{className:"text-white",children:t.filter(e=>"system"!==e.role).length})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-slate-400",children:"Total Cost:"}),a.jsx("span",{className:"text-white",children:(0,$.GG)(q)})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-slate-400",children:"Files Uploaded:"}),a.jsx("span",{className:"text-white",children:T.length})]})]})]}),(0,a.jsxs)(i.Zb,{className:"bg-slate-800/50 border-slate-700",children:[a.jsx(i.Ol,{children:a.jsx(i.ll,{className:"text-white text-sm",children:"Quick Actions"})}),(0,a.jsxs)(i.aY,{className:"space-y-2",children:[a.jsx(r.z,{variant:"outline",size:"sm",className:"w-full text-white border-slate-600",onClick:()=>j([t[0]]),children:"Clear Chat"}),(0,a.jsxs)(r.z,{variant:"outline",size:"sm",className:"w-full text-white border-slate-600",onClick:()=>{s.addNotification({type:"info",title:"Export Chat",message:"Chat export feature will be implemented",read:!1})},children:[a.jsx(b.Z,{className:"h-3 w-3 mr-2"}),"Export Chat"]}),(0,a.jsxs)(r.z,{variant:"outline",size:"sm",className:"w-full text-white border-slate-600",onClick:()=>window.location.href="/dashboard/ai",children:[a.jsx(N.Z,{className:"h-3 w-3 mr-2"}),"AI Settings"]})]})]})]})]})]})})}):a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-950 via-blue-950 to-slate-900 flex items-center justify-center",children:a.jsx("div",{className:"text-white",children:"Loading..."})})}},87673:(e,s,t)=>{"use strict";t.d(s,{g:()=>r});var a=t(10326),l=t(17577),i=t(77863);let r=l.forwardRef(({className:e,...s},t)=>a.jsx("textarea",{className:(0,i.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:t,...s}));r.displayName="Textarea"},62165:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>i,dynamic:()=>l});var a=t(68570);let l=(0,a.createProxy)(String.raw`/home/ubuntu/wrdo-cave-ultra-build/app/chat/page.tsx#dynamic`),i=(0,a.createProxy)(String.raw`/home/ubuntu/wrdo-cave-ultra-build/app/chat/page.tsx#default`)}};var s=require("../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),a=s.X(0,[9276,3181,9303,6775,4437,5647,3672,1079,7793,439],()=>t(6357));module.exports=a})();