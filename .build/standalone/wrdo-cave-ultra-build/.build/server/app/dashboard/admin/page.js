(()=>{var e={};e.id=1305,e.ids=[1305],e.modules={53524:e=>{"use strict";e.exports=require("@prisma/client")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},84770:e=>{"use strict";e.exports=require("crypto")},7804:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>o.a,__next_app__:()=>m,originalPathname:()=>u,pages:()=>c,routeModule:()=>p,tree:()=>d}),r(23510),r(13321),r(79457),r(35866);var a=r(23191),n=r(88716),s=r(37922),o=r.n(s),i=r(95231),l={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>i[e]);r.d(t,l);let d=["",{children:["dashboard",{children:["admin",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,23510)),"/home/ubuntu/wrdo-cave-ultra-build/app/dashboard/admin/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,13321)),"/home/ubuntu/wrdo-cave-ultra-build/app/dashboard/layout.tsx"]}]},{layout:[()=>Promise.resolve().then(r.bind(r,79457)),"/home/ubuntu/wrdo-cave-ultra-build/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,35866,23)),"next/dist/client/components/not-found-error"]}],c=["/home/ubuntu/wrdo-cave-ultra-build/app/dashboard/admin/page.tsx"],u="/dashboard/admin/page",m={require:r,loadChunk:()=>Promise.resolve()},p=new a.AppPageRouteModule({definition:{kind:n.x.APP_PAGE,page:"/dashboard/admin/page",pathname:"/dashboard/admin",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},67482:(e,t,r)=>{Promise.resolve().then(r.bind(r,58767))},62390:(e,t,r)=>{Promise.resolve().then(r.bind(r,73657)),Promise.resolve().then(r.bind(r,14210))},58767:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>o});var a=r(10326),n=r(77793);r(35047);var s=r(17577);function o({children:e}){let[t,r]=(0,s.useState)(null),[o,i]=(0,s.useState)(!0);return o?a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-950 via-blue-950 to-slate-900 flex items-center justify-center",children:a.jsx("div",{className:"text-white",children:"Loading WRDO Cave Ultra..."})}):a.jsx(n.a,{user:t,children:e})}},73657:(e,t,r)=>{"use strict";r.d(t,{AdminDashboard:()=>g});var a=r(10326),n=r(17577),s=r(33071),o=r(567),i=r(90772),l=r(24061),d=r(66697),c=r(30361),u=r(17069),m=r(58038),p=r(48998),f=r(88378),h=r(88319),x=r(94215);function g({user:e}){let[t,r]=(0,n.useState)({totalUsers:0,activeUsers:0,totalSessions:0,systemHealth:"healthy"}),[g,y]=(0,n.useState)(!1),{toast:v}=(0,x.pm)(),b=async()=>{y(!0);try{if((await fetch("/api/seed",{method:"POST"})).ok)v({title:"Success",description:"Default roles have been initialized."});else throw Error("Failed to initialize roles")}catch(e){v({title:"Error",description:"Failed to initialize roles. Please try again.",variant:"destructive"})}finally{y(!1)}},w=[{title:"Total Users",value:t.totalUsers.toString(),description:"Registered accounts",icon:l.Z,color:"text-blue-400",bgColor:"bg-blue-500/10"},{title:"Active Sessions",value:t.activeUsers.toString(),description:"Currently online",icon:d.Z,color:"text-green-400",bgColor:"bg-green-500/10"},{title:"System Health",value:"Healthy",description:"All systems operational",icon:c.Z,color:"text-emerald-400",bgColor:"bg-emerald-500/10"},{title:"Total Sessions",value:t.totalSessions.toString(),description:"Since deployment",icon:u.Z,color:"text-purple-400",bgColor:"bg-purple-500/10"}],j=[{title:"Initialize Roles",description:"Set up default user roles and permissions",action:b,loading:g,icon:m.Z,color:"bg-blue-600 hover:bg-blue-700"},{title:"View Audit Logs",description:"Check system activity and security logs",action:()=>v({title:"Feature coming soon",description:"Audit logs view will be available soon."}),loading:!1,icon:p.Z,color:"bg-green-600 hover:bg-green-700"},{title:"System Settings",description:"Configure global system parameters",action:()=>v({title:"Feature coming soon",description:"System settings will be available soon."}),loading:!1,icon:f.Z,color:"bg-purple-600 hover:bg-purple-700"}],N=[{event:"User registration",user:e.email,time:"2 minutes ago",type:"success"},{event:"System health check",user:"System",time:"15 minutes ago",type:"info"},{event:"Database backup",user:"System",time:"1 hour ago",type:"success"},{event:"Role assignment",user:"Admin",time:"2 hours ago",type:"info"}];return(0,a.jsxs)("div",{className:"space-y-6",children:[a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:w.map((e,t)=>(0,a.jsxs)(s.Zb,{className:"bg-slate-800/50 border-slate-700",children:[a.jsx(s.Ol,{className:"pb-2",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[a.jsx(s.ll,{className:"text-sm font-medium text-gray-400",children:e.title}),a.jsx("div",{className:`p-2 rounded-lg ${e.bgColor}`,children:a.jsx(e.icon,{className:`h-4 w-4 ${e.color}`})})]})}),a.jsx(s.aY,{children:(0,a.jsxs)("div",{className:"space-y-1",children:[a.jsx("div",{className:"text-2xl font-bold text-white",children:e.value}),a.jsx("p",{className:"text-xs text-gray-400",children:e.description})]})})]},t))}),(0,a.jsxs)("div",{className:"grid lg:grid-cols-2 gap-6",children:[(0,a.jsxs)(s.Zb,{className:"bg-slate-800/50 border-slate-700",children:[(0,a.jsxs)(s.Ol,{children:[(0,a.jsxs)(s.ll,{className:"text-white flex items-center space-x-2",children:[a.jsx(f.Z,{className:"h-5 w-5 text-blue-400"}),a.jsx("span",{children:"Quick Actions"})]}),a.jsx(s.SZ,{className:"text-gray-400",children:"Common administrative tasks and system management"})]}),a.jsx(s.aY,{children:a.jsx("div",{className:"space-y-3",children:j.map((e,t)=>(0,a.jsxs)("div",{className:"flex items-center justify-between p-3 bg-slate-700/50 rounded-lg",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[a.jsx(e.icon,{className:"h-5 w-5 text-gray-400"}),(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-white font-medium",children:e.title}),a.jsx("p",{className:"text-xs text-gray-400",children:e.description})]})]}),a.jsx(i.z,{onClick:e.action,disabled:e.loading,size:"sm",className:e.color,children:e.loading?"Loading...":"Execute"})]},t))})})]}),(0,a.jsxs)(s.Zb,{className:"bg-slate-800/50 border-slate-700",children:[(0,a.jsxs)(s.Ol,{children:[(0,a.jsxs)(s.ll,{className:"text-white flex items-center space-x-2",children:[a.jsx(d.Z,{className:"h-5 w-5 text-green-400"}),a.jsx("span",{children:"Recent Events"})]}),a.jsx(s.SZ,{className:"text-gray-400",children:"Latest system activities and administrative actions"})]}),a.jsx(s.aY,{children:a.jsx("div",{className:"space-y-4",children:N.map((e,t)=>(0,a.jsxs)("div",{className:"flex items-start space-x-3",children:[a.jsx("div",{className:`w-2 h-2 rounded-full mt-2 flex-shrink-0 ${"success"===e.type?"bg-green-400":"warning"===e.type?"bg-yellow-400":"bg-blue-400"}`}),(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[a.jsx("p",{className:"text-sm text-white",children:e.event}),a.jsx(o.C,{variant:"secondary",className:"text-xs",children:e.user})]}),a.jsx("p",{className:"text-xs text-gray-400",children:e.time})]})]},t))})})]})]}),(0,a.jsxs)(s.Zb,{className:"bg-slate-800/50 border-slate-700",children:[(0,a.jsxs)(s.Ol,{children:[(0,a.jsxs)(s.ll,{className:"text-white flex items-center space-x-2",children:[a.jsx(h.Z,{className:"h-5 w-5 text-purple-400"}),a.jsx("span",{children:"System Status"})]}),a.jsx(s.SZ,{className:"text-gray-400",children:"Current system health and operational status"})]}),a.jsx(s.aY,{children:(0,a.jsxs)("div",{className:"grid md:grid-cols-3 gap-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-gray-400",children:"Database"}),(0,a.jsxs)(o.C,{className:"bg-green-500/20 text-green-400",children:[a.jsx(c.Z,{className:"h-3 w-3 mr-1"}),"Healthy"]})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-gray-400",children:"API Services"}),(0,a.jsxs)(o.C,{className:"bg-green-500/20 text-green-400",children:[a.jsx(c.Z,{className:"h-3 w-3 mr-1"}),"Online"]})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-gray-400",children:"AI Services"}),(0,a.jsxs)(o.C,{className:"bg-green-500/20 text-green-400",children:[a.jsx(c.Z,{className:"h-3 w-3 mr-1"}),"Active"]})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-gray-400",children:"Authentication"}),(0,a.jsxs)(o.C,{className:"bg-green-500/20 text-green-400",children:[a.jsx(c.Z,{className:"h-3 w-3 mr-1"}),"Secure"]})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-gray-400",children:"Storage"}),(0,a.jsxs)(o.C,{className:"bg-green-500/20 text-green-400",children:[a.jsx(c.Z,{className:"h-3 w-3 mr-1"}),"Available"]})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-gray-400",children:"Monitoring"}),(0,a.jsxs)(o.C,{className:"bg-green-500/20 text-green-400",children:[a.jsx(c.Z,{className:"h-3 w-3 mr-1"}),"Running"]})]})]})]})})]})]})}},14210:(e,t,r)=>{"use strict";r.d(t,{DashboardLayout:()=>rM});var a=r(10326),n=r(17577),s=r.n(n),o=r(90434),i=r(35047),l=r(90772),d=r(93095),c=r(55049),u=r(65819),m=r(45226),p="Avatar",[f,h]=(0,d.b)(p),[x,g]=f(p),y=n.forwardRef((e,t)=>{let{__scopeAvatar:r,...s}=e,[o,i]=n.useState("idle");return(0,a.jsx)(x,{scope:r,imageLoadingStatus:o,onImageLoadingStatusChange:i,children:(0,a.jsx)(m.WV.span,{...s,ref:t})})});y.displayName=p;var v="AvatarImage",b=n.forwardRef((e,t)=>{let{__scopeAvatar:r,src:s,onLoadingStatusChange:o=()=>{},...i}=e,l=g(v,r),d=function(e){let[t,r]=n.useState("idle");return(0,u.b)(()=>{if(!e){r("error");return}let t=!0,a=new window.Image,n=e=>()=>{t&&r(e)};return r("loading"),a.onload=n("loaded"),a.onerror=n("error"),a.src=e,()=>{t=!1}},[e]),t}(s),p=(0,c.W)(e=>{o(e),l.onImageLoadingStatusChange(e)});return(0,u.b)(()=>{"idle"!==d&&p(d)},[d,p]),"loaded"===d?(0,a.jsx)(m.WV.img,{...i,ref:t,src:s}):null});b.displayName=v;var w="AvatarFallback",j=n.forwardRef((e,t)=>{let{__scopeAvatar:r,delayMs:s,...o}=e,i=g(w,r),[l,d]=n.useState(void 0===s);return n.useEffect(()=>{if(void 0!==s){let e=window.setTimeout(()=>d(!0),s);return()=>window.clearTimeout(e)}},[s]),l&&"loaded"!==i.imageLoadingStatus?(0,a.jsx)(m.WV.span,{...o,ref:t}):null});j.displayName=w;var N=r(77863);let R=n.forwardRef(({className:e,...t},r)=>a.jsx(y,{ref:r,className:(0,N.cn)("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));R.displayName=y.displayName;let C=n.forwardRef(({className:e,...t},r)=>a.jsx(b,{ref:r,className:(0,N.cn)("aspect-square h-full w-full",e),...t}));C.displayName=b.displayName;let M=n.forwardRef(({className:e,...t},r)=>a.jsx(j,{ref:r,className:(0,N.cn)("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));M.displayName=j.displayName;var k=r(567),_=r(82561),S=r(48051),D=r(52067),P=r(70545),O=r(17124),A=r(825),E=r(80699),I=r(10441),T=r(88957),F=r(14312),Z=r(83078),L=r(9815),z="rovingFocusGroup.onEntryFocus",U={bubbles:!1,cancelable:!0},$="RovingFocusGroup",[W,V,K]=(0,P.B)($),[q,B]=(0,d.b)($,[K]),[G,H]=q($),X=n.forwardRef((e,t)=>(0,a.jsx)(W.Provider,{scope:e.__scopeRovingFocusGroup,children:(0,a.jsx)(W.Slot,{scope:e.__scopeRovingFocusGroup,children:(0,a.jsx)(Y,{...e,ref:t})})}));X.displayName=$;var Y=n.forwardRef((e,t)=>{let{__scopeRovingFocusGroup:r,orientation:s,loop:o=!1,dir:i,currentTabStopId:l,defaultCurrentTabStopId:d,onCurrentTabStopIdChange:u,onEntryFocus:p,preventScrollOnEntryFocus:f=!1,...h}=e,x=n.useRef(null),g=(0,S.e)(t,x),y=(0,O.gm)(i),[v=null,b]=(0,D.T)({prop:l,defaultProp:d,onChange:u}),[w,j]=n.useState(!1),N=(0,c.W)(p),R=V(r),C=n.useRef(!1),[M,k]=n.useState(0);return n.useEffect(()=>{let e=x.current;if(e)return e.addEventListener(z,N),()=>e.removeEventListener(z,N)},[N]),(0,a.jsx)(G,{scope:r,orientation:s,dir:y,loop:o,currentTabStopId:v,onItemFocus:n.useCallback(e=>b(e),[b]),onItemShiftTab:n.useCallback(()=>j(!0),[]),onFocusableItemAdd:n.useCallback(()=>k(e=>e+1),[]),onFocusableItemRemove:n.useCallback(()=>k(e=>e-1),[]),children:(0,a.jsx)(m.WV.div,{tabIndex:w||0===M?-1:0,"data-orientation":s,...h,ref:g,style:{outline:"none",...e.style},onMouseDown:(0,_.M)(e.onMouseDown,()=>{C.current=!0}),onFocus:(0,_.M)(e.onFocus,e=>{let t=!C.current;if(e.target===e.currentTarget&&t&&!w){let t=new CustomEvent(z,U);if(e.currentTarget.dispatchEvent(t),!t.defaultPrevented){let e=R().filter(e=>e.focusable);et([e.find(e=>e.active),e.find(e=>e.id===v),...e].filter(Boolean).map(e=>e.ref.current),f)}}C.current=!1}),onBlur:(0,_.M)(e.onBlur,()=>j(!1))})})}),J="RovingFocusGroupItem",Q=n.forwardRef((e,t)=>{let{__scopeRovingFocusGroup:r,focusable:s=!0,active:o=!1,tabStopId:i,...l}=e,d=(0,T.M)(),c=i||d,u=H(J,r),p=u.currentTabStopId===c,f=V(r),{onFocusableItemAdd:h,onFocusableItemRemove:x}=u;return n.useEffect(()=>{if(s)return h(),()=>x()},[s,h,x]),(0,a.jsx)(W.ItemSlot,{scope:r,id:c,focusable:s,active:o,children:(0,a.jsx)(m.WV.span,{tabIndex:p?0:-1,"data-orientation":u.orientation,...l,ref:t,onMouseDown:(0,_.M)(e.onMouseDown,e=>{s?u.onItemFocus(c):e.preventDefault()}),onFocus:(0,_.M)(e.onFocus,()=>u.onItemFocus(c)),onKeyDown:(0,_.M)(e.onKeyDown,e=>{if("Tab"===e.key&&e.shiftKey){u.onItemShiftTab();return}if(e.target!==e.currentTarget)return;let t=function(e,t,r){var a;let n=(a=e.key,"rtl"!==r?a:"ArrowLeft"===a?"ArrowRight":"ArrowRight"===a?"ArrowLeft":a);if(!("vertical"===t&&["ArrowLeft","ArrowRight"].includes(n))&&!("horizontal"===t&&["ArrowUp","ArrowDown"].includes(n)))return ee[n]}(e,u.orientation,u.dir);if(void 0!==t){if(e.metaKey||e.ctrlKey||e.altKey||e.shiftKey)return;e.preventDefault();let r=f().filter(e=>e.focusable).map(e=>e.ref.current);if("last"===t)r.reverse();else if("prev"===t||"next"===t){"prev"===t&&r.reverse();let a=r.indexOf(e.currentTarget);r=u.loop?function(e,t){return e.map((r,a)=>e[(t+a)%e.length])}(r,a+1):r.slice(a+1)}setTimeout(()=>et(r))}})})})});Q.displayName=J;var ee={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function et(e,t=!1){let r=document.activeElement;for(let a of e)if(a===r||(a.focus({preventScroll:t}),document.activeElement!==r))return}var er=r(34214),ea=r(35664),en=r(58260),es=["Enter"," "],eo=["ArrowUp","PageDown","End"],ei=["ArrowDown","PageUp","Home",...eo],el={ltr:[...es,"ArrowRight"],rtl:[...es,"ArrowLeft"]},ed={ltr:["ArrowLeft"],rtl:["ArrowRight"]},ec="Menu",[eu,em,ep]=(0,P.B)(ec),[ef,eh]=(0,d.b)(ec,[ep,F.D7,B]),ex=(0,F.D7)(),eg=B(),[ey,ev]=ef(ec),[eb,ew]=ef(ec),ej=e=>{let{__scopeMenu:t,open:r=!1,children:s,dir:o,onOpenChange:i,modal:l=!0}=e,d=ex(t),[u,m]=n.useState(null),p=n.useRef(!1),f=(0,c.W)(i),h=(0,O.gm)(o);return n.useEffect(()=>{let e=()=>{p.current=!0,document.addEventListener("pointerdown",t,{capture:!0,once:!0}),document.addEventListener("pointermove",t,{capture:!0,once:!0})},t=()=>p.current=!1;return document.addEventListener("keydown",e,{capture:!0}),()=>{document.removeEventListener("keydown",e,{capture:!0}),document.removeEventListener("pointerdown",t,{capture:!0}),document.removeEventListener("pointermove",t,{capture:!0})}},[]),(0,a.jsx)(F.fC,{...d,children:(0,a.jsx)(ey,{scope:t,open:r,onOpenChange:f,content:u,onContentChange:m,children:(0,a.jsx)(eb,{scope:t,onClose:n.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:p,dir:h,modal:l,children:s})})})};ej.displayName=ec;var eN=n.forwardRef((e,t)=>{let{__scopeMenu:r,...n}=e,s=ex(r);return(0,a.jsx)(F.ee,{...s,...n,ref:t})});eN.displayName="MenuAnchor";var eR="MenuPortal",[eC,eM]=ef(eR,{forceMount:void 0}),ek=e=>{let{__scopeMenu:t,forceMount:r,children:n,container:s}=e,o=ev(eR,t);return(0,a.jsx)(eC,{scope:t,forceMount:r,children:(0,a.jsx)(L.z,{present:r||o.open,children:(0,a.jsx)(Z.h,{asChild:!0,container:s,children:n})})})};ek.displayName=eR;var e_="MenuContent",[eS,eD]=ef(e_),eP=n.forwardRef((e,t)=>{let r=eM(e_,e.__scopeMenu),{forceMount:n=r.forceMount,...s}=e,o=ev(e_,e.__scopeMenu),i=ew(e_,e.__scopeMenu);return(0,a.jsx)(eu.Provider,{scope:e.__scopeMenu,children:(0,a.jsx)(L.z,{present:n||o.open,children:(0,a.jsx)(eu.Slot,{scope:e.__scopeMenu,children:i.modal?(0,a.jsx)(eO,{...s,ref:t}):(0,a.jsx)(eA,{...s,ref:t})})})})}),eO=n.forwardRef((e,t)=>{let r=ev(e_,e.__scopeMenu),s=n.useRef(null),o=(0,S.e)(t,s);return n.useEffect(()=>{let e=s.current;if(e)return(0,ea.Ry)(e)},[]),(0,a.jsx)(eE,{...e,ref:o,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:(0,_.M)(e.onFocusOutside,e=>e.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),eA=n.forwardRef((e,t)=>{let r=ev(e_,e.__scopeMenu);return(0,a.jsx)(eE,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),eE=n.forwardRef((e,t)=>{let{__scopeMenu:r,loop:s=!1,trapFocus:o,onOpenAutoFocus:i,onCloseAutoFocus:l,disableOutsidePointerEvents:d,onEntryFocus:c,onEscapeKeyDown:u,onPointerDownOutside:m,onFocusOutside:p,onInteractOutside:f,onDismiss:h,disableOutsideScroll:x,...g}=e,y=ev(e_,r),v=ew(e_,r),b=ex(r),w=eg(r),j=em(r),[N,R]=n.useState(null),C=n.useRef(null),M=(0,S.e)(t,C,y.onContentChange),k=n.useRef(0),D=n.useRef(""),P=n.useRef(0),O=n.useRef(null),T=n.useRef("right"),Z=n.useRef(0),L=x?en.Z:n.Fragment,z=x?{as:er.g7,allowPinchZoom:!0}:void 0,U=e=>{let t=D.current+e,r=j().filter(e=>!e.disabled),a=document.activeElement,n=r.find(e=>e.ref.current===a)?.textValue,s=function(e,t,r){var a;let n=t.length>1&&Array.from(t).every(e=>e===t[0])?t[0]:t,s=(a=Math.max(r?e.indexOf(r):-1,0),e.map((t,r)=>e[(a+r)%e.length]));1===n.length&&(s=s.filter(e=>e!==r));let o=s.find(e=>e.toLowerCase().startsWith(n.toLowerCase()));return o!==r?o:void 0}(r.map(e=>e.textValue),t,n),o=r.find(e=>e.textValue===s)?.ref.current;(function e(t){D.current=t,window.clearTimeout(k.current),""!==t&&(k.current=window.setTimeout(()=>e(""),1e3))})(t),o&&setTimeout(()=>o.focus())};n.useEffect(()=>()=>window.clearTimeout(k.current),[]),(0,E.EW)();let $=n.useCallback(e=>T.current===O.current?.side&&function(e,t){return!!t&&function(e,t){let{x:r,y:a}=e,n=!1;for(let e=0,s=t.length-1;e<t.length;s=e++){let o=t[e].x,i=t[e].y,l=t[s].x,d=t[s].y;i>a!=d>a&&r<(l-o)*(a-i)/(d-i)+o&&(n=!n)}return n}({x:e.clientX,y:e.clientY},t)}(e,O.current?.area),[]);return(0,a.jsx)(eS,{scope:r,searchRef:D,onItemEnter:n.useCallback(e=>{$(e)&&e.preventDefault()},[$]),onItemLeave:n.useCallback(e=>{$(e)||(C.current?.focus(),R(null))},[$]),onTriggerLeave:n.useCallback(e=>{$(e)&&e.preventDefault()},[$]),pointerGraceTimerRef:P,onPointerGraceIntentChange:n.useCallback(e=>{O.current=e},[]),children:(0,a.jsx)(L,{...z,children:(0,a.jsx)(I.M,{asChild:!0,trapped:o,onMountAutoFocus:(0,_.M)(i,e=>{e.preventDefault(),C.current?.focus({preventScroll:!0})}),onUnmountAutoFocus:l,children:(0,a.jsx)(A.XB,{asChild:!0,disableOutsidePointerEvents:d,onEscapeKeyDown:u,onPointerDownOutside:m,onFocusOutside:p,onInteractOutside:f,onDismiss:h,children:(0,a.jsx)(X,{asChild:!0,...w,dir:v.dir,orientation:"vertical",loop:s,currentTabStopId:N,onCurrentTabStopIdChange:R,onEntryFocus:(0,_.M)(c,e=>{v.isUsingKeyboardRef.current||e.preventDefault()}),preventScrollOnEntryFocus:!0,children:(0,a.jsx)(F.VY,{role:"menu","aria-orientation":"vertical","data-state":e7(y.open),"data-radix-menu-content":"",dir:v.dir,...b,...g,ref:M,style:{outline:"none",...g.style},onKeyDown:(0,_.M)(g.onKeyDown,e=>{let t=e.target.closest("[data-radix-menu-content]")===e.currentTarget,r=e.ctrlKey||e.altKey||e.metaKey,a=1===e.key.length;t&&("Tab"===e.key&&e.preventDefault(),!r&&a&&U(e.key));let n=C.current;if(e.target!==n||!ei.includes(e.key))return;e.preventDefault();let s=j().filter(e=>!e.disabled).map(e=>e.ref.current);eo.includes(e.key)&&s.reverse(),function(e){let t=document.activeElement;for(let r of e)if(r===t||(r.focus(),document.activeElement!==t))return}(s)}),onBlur:(0,_.M)(e.onBlur,e=>{e.currentTarget.contains(e.target)||(window.clearTimeout(k.current),D.current="")}),onPointerMove:(0,_.M)(e.onPointerMove,e8(e=>{let t=e.target,r=Z.current!==e.clientX;if(e.currentTarget.contains(t)&&r){let t=e.clientX>Z.current?"right":"left";T.current=t,Z.current=e.clientX}}))})})})})})})});eP.displayName=e_;var eI=n.forwardRef((e,t)=>{let{__scopeMenu:r,...n}=e;return(0,a.jsx)(m.WV.div,{role:"group",...n,ref:t})});eI.displayName="MenuGroup";var eT=n.forwardRef((e,t)=>{let{__scopeMenu:r,...n}=e;return(0,a.jsx)(m.WV.div,{...n,ref:t})});eT.displayName="MenuLabel";var eF="MenuItem",eZ="menu.itemSelect",eL=n.forwardRef((e,t)=>{let{disabled:r=!1,onSelect:s,...o}=e,i=n.useRef(null),l=ew(eF,e.__scopeMenu),d=eD(eF,e.__scopeMenu),c=(0,S.e)(t,i),u=n.useRef(!1);return(0,a.jsx)(ez,{...o,ref:c,disabled:r,onClick:(0,_.M)(e.onClick,()=>{let e=i.current;if(!r&&e){let t=new CustomEvent(eZ,{bubbles:!0,cancelable:!0});e.addEventListener(eZ,e=>s?.(e),{once:!0}),(0,m.jH)(e,t),t.defaultPrevented?u.current=!1:l.onClose()}}),onPointerDown:t=>{e.onPointerDown?.(t),u.current=!0},onPointerUp:(0,_.M)(e.onPointerUp,e=>{u.current||e.currentTarget?.click()}),onKeyDown:(0,_.M)(e.onKeyDown,e=>{let t=""!==d.searchRef.current;!r&&(!t||" "!==e.key)&&es.includes(e.key)&&(e.currentTarget.click(),e.preventDefault())})})});eL.displayName=eF;var ez=n.forwardRef((e,t)=>{let{__scopeMenu:r,disabled:s=!1,textValue:o,...i}=e,l=eD(eF,r),d=eg(r),c=n.useRef(null),u=(0,S.e)(t,c),[p,f]=n.useState(!1),[h,x]=n.useState("");return n.useEffect(()=>{let e=c.current;e&&x((e.textContent??"").trim())},[i.children]),(0,a.jsx)(eu.ItemSlot,{scope:r,disabled:s,textValue:o??h,children:(0,a.jsx)(Q,{asChild:!0,...d,focusable:!s,children:(0,a.jsx)(m.WV.div,{role:"menuitem","data-highlighted":p?"":void 0,"aria-disabled":s||void 0,"data-disabled":s?"":void 0,...i,ref:u,onPointerMove:(0,_.M)(e.onPointerMove,e8(e=>{s?l.onItemLeave(e):(l.onItemEnter(e),e.defaultPrevented||e.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:(0,_.M)(e.onPointerLeave,e8(e=>l.onItemLeave(e))),onFocus:(0,_.M)(e.onFocus,()=>f(!0)),onBlur:(0,_.M)(e.onBlur,()=>f(!1))})})})}),eU=n.forwardRef((e,t)=>{let{checked:r=!1,onCheckedChange:n,...s}=e;return(0,a.jsx)(eH,{scope:e.__scopeMenu,checked:r,children:(0,a.jsx)(eL,{role:"menuitemcheckbox","aria-checked":e6(r)?"mixed":r,...s,ref:t,"data-state":e9(r),onSelect:(0,_.M)(s.onSelect,()=>n?.(!!e6(r)||!r),{checkForDefaultPrevented:!1})})})});eU.displayName="MenuCheckboxItem";var e$="MenuRadioGroup",[eW,eV]=ef(e$,{value:void 0,onValueChange:()=>{}}),eK=n.forwardRef((e,t)=>{let{value:r,onValueChange:n,...s}=e,o=(0,c.W)(n);return(0,a.jsx)(eW,{scope:e.__scopeMenu,value:r,onValueChange:o,children:(0,a.jsx)(eI,{...s,ref:t})})});eK.displayName=e$;var eq="MenuRadioItem",eB=n.forwardRef((e,t)=>{let{value:r,...n}=e,s=eV(eq,e.__scopeMenu),o=r===s.value;return(0,a.jsx)(eH,{scope:e.__scopeMenu,checked:o,children:(0,a.jsx)(eL,{role:"menuitemradio","aria-checked":o,...n,ref:t,"data-state":e9(o),onSelect:(0,_.M)(n.onSelect,()=>s.onValueChange?.(r),{checkForDefaultPrevented:!1})})})});eB.displayName=eq;var eG="MenuItemIndicator",[eH,eX]=ef(eG,{checked:!1}),eY=n.forwardRef((e,t)=>{let{__scopeMenu:r,forceMount:n,...s}=e,o=eX(eG,r);return(0,a.jsx)(L.z,{present:n||e6(o.checked)||!0===o.checked,children:(0,a.jsx)(m.WV.span,{...s,ref:t,"data-state":e9(o.checked)})})});eY.displayName=eG;var eJ=n.forwardRef((e,t)=>{let{__scopeMenu:r,...n}=e;return(0,a.jsx)(m.WV.div,{role:"separator","aria-orientation":"horizontal",...n,ref:t})});eJ.displayName="MenuSeparator";var eQ=n.forwardRef((e,t)=>{let{__scopeMenu:r,...n}=e,s=ex(r);return(0,a.jsx)(F.Eh,{...s,...n,ref:t})});eQ.displayName="MenuArrow";var[e0,e1]=ef("MenuSub"),e2="MenuSubTrigger",e4=n.forwardRef((e,t)=>{let r=ev(e2,e.__scopeMenu),s=ew(e2,e.__scopeMenu),o=e1(e2,e.__scopeMenu),i=eD(e2,e.__scopeMenu),l=n.useRef(null),{pointerGraceTimerRef:d,onPointerGraceIntentChange:c}=i,u={__scopeMenu:e.__scopeMenu},m=n.useCallback(()=>{l.current&&window.clearTimeout(l.current),l.current=null},[]);return n.useEffect(()=>m,[m]),n.useEffect(()=>{let e=d.current;return()=>{window.clearTimeout(e),c(null)}},[d,c]),(0,a.jsx)(eN,{asChild:!0,...u,children:(0,a.jsx)(ez,{id:o.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":o.contentId,"data-state":e7(r.open),...e,ref:(0,S.F)(t,o.onTriggerChange),onClick:t=>{e.onClick?.(t),e.disabled||t.defaultPrevented||(t.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:(0,_.M)(e.onPointerMove,e8(t=>{i.onItemEnter(t),t.defaultPrevented||e.disabled||r.open||l.current||(i.onPointerGraceIntentChange(null),l.current=window.setTimeout(()=>{r.onOpenChange(!0),m()},100))})),onPointerLeave:(0,_.M)(e.onPointerLeave,e8(e=>{m();let t=r.content?.getBoundingClientRect();if(t){let a=r.content?.dataset.side,n="right"===a,s=t[n?"left":"right"],o=t[n?"right":"left"];i.onPointerGraceIntentChange({area:[{x:e.clientX+(n?-5:5),y:e.clientY},{x:s,y:t.top},{x:o,y:t.top},{x:o,y:t.bottom},{x:s,y:t.bottom}],side:a}),window.clearTimeout(d.current),d.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(e),e.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:(0,_.M)(e.onKeyDown,t=>{let a=""!==i.searchRef.current;!e.disabled&&(!a||" "!==t.key)&&el[s.dir].includes(t.key)&&(r.onOpenChange(!0),r.content?.focus(),t.preventDefault())})})})});e4.displayName=e2;var e5="MenuSubContent",e3=n.forwardRef((e,t)=>{let r=eM(e_,e.__scopeMenu),{forceMount:s=r.forceMount,...o}=e,i=ev(e_,e.__scopeMenu),l=ew(e_,e.__scopeMenu),d=e1(e5,e.__scopeMenu),c=n.useRef(null),u=(0,S.e)(t,c);return(0,a.jsx)(eu.Provider,{scope:e.__scopeMenu,children:(0,a.jsx)(L.z,{present:s||i.open,children:(0,a.jsx)(eu.Slot,{scope:e.__scopeMenu,children:(0,a.jsx)(eE,{id:d.contentId,"aria-labelledby":d.triggerId,...o,ref:u,align:"start",side:"rtl"===l.dir?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:e=>{l.isUsingKeyboardRef.current&&c.current?.focus(),e.preventDefault()},onCloseAutoFocus:e=>e.preventDefault(),onFocusOutside:(0,_.M)(e.onFocusOutside,e=>{e.target!==d.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:(0,_.M)(e.onEscapeKeyDown,e=>{l.onClose(),e.preventDefault()}),onKeyDown:(0,_.M)(e.onKeyDown,e=>{let t=e.currentTarget.contains(e.target),r=ed[l.dir].includes(e.key);t&&r&&(i.onOpenChange(!1),d.trigger?.focus(),e.preventDefault())})})})})})});function e7(e){return e?"open":"closed"}function e6(e){return"indeterminate"===e}function e9(e){return e6(e)?"indeterminate":e?"checked":"unchecked"}function e8(e){return t=>"mouse"===t.pointerType?e(t):void 0}e3.displayName=e5;var te="DropdownMenu",[tt,tr]=(0,d.b)(te,[eh]),ta=eh(),[tn,ts]=tt(te),to=e=>{let{__scopeDropdownMenu:t,children:r,dir:s,open:o,defaultOpen:i,onOpenChange:l,modal:d=!0}=e,c=ta(t),u=n.useRef(null),[m=!1,p]=(0,D.T)({prop:o,defaultProp:i,onChange:l});return(0,a.jsx)(tn,{scope:t,triggerId:(0,T.M)(),triggerRef:u,contentId:(0,T.M)(),open:m,onOpenChange:p,onOpenToggle:n.useCallback(()=>p(e=>!e),[p]),modal:d,children:(0,a.jsx)(ej,{...c,open:m,onOpenChange:p,dir:s,modal:d,children:r})})};to.displayName=te;var ti="DropdownMenuTrigger",tl=n.forwardRef((e,t)=>{let{__scopeDropdownMenu:r,disabled:n=!1,...s}=e,o=ts(ti,r),i=ta(r);return(0,a.jsx)(eN,{asChild:!0,...i,children:(0,a.jsx)(m.WV.button,{type:"button",id:o.triggerId,"aria-haspopup":"menu","aria-expanded":o.open,"aria-controls":o.open?o.contentId:void 0,"data-state":o.open?"open":"closed","data-disabled":n?"":void 0,disabled:n,...s,ref:(0,S.F)(t,o.triggerRef),onPointerDown:(0,_.M)(e.onPointerDown,e=>{n||0!==e.button||!1!==e.ctrlKey||(o.onOpenToggle(),o.open||e.preventDefault())}),onKeyDown:(0,_.M)(e.onKeyDown,e=>{!n&&(["Enter"," "].includes(e.key)&&o.onOpenToggle(),"ArrowDown"===e.key&&o.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(e.key)&&e.preventDefault())})})})});tl.displayName=ti;var td=e=>{let{__scopeDropdownMenu:t,...r}=e,n=ta(t);return(0,a.jsx)(ek,{...n,...r})};td.displayName="DropdownMenuPortal";var tc="DropdownMenuContent",tu=n.forwardRef((e,t)=>{let{__scopeDropdownMenu:r,...s}=e,o=ts(tc,r),i=ta(r),l=n.useRef(!1);return(0,a.jsx)(eP,{id:o.contentId,"aria-labelledby":o.triggerId,...i,...s,ref:t,onCloseAutoFocus:(0,_.M)(e.onCloseAutoFocus,e=>{l.current||o.triggerRef.current?.focus(),l.current=!1,e.preventDefault()}),onInteractOutside:(0,_.M)(e.onInteractOutside,e=>{let t=e.detail.originalEvent,r=0===t.button&&!0===t.ctrlKey,a=2===t.button||r;(!o.modal||a)&&(l.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});tu.displayName=tc,n.forwardRef((e,t)=>{let{__scopeDropdownMenu:r,...n}=e,s=ta(r);return(0,a.jsx)(eI,{...s,...n,ref:t})}).displayName="DropdownMenuGroup";var tm=n.forwardRef((e,t)=>{let{__scopeDropdownMenu:r,...n}=e,s=ta(r);return(0,a.jsx)(eT,{...s,...n,ref:t})});tm.displayName="DropdownMenuLabel";var tp=n.forwardRef((e,t)=>{let{__scopeDropdownMenu:r,...n}=e,s=ta(r);return(0,a.jsx)(eL,{...s,...n,ref:t})});tp.displayName="DropdownMenuItem";var tf=n.forwardRef((e,t)=>{let{__scopeDropdownMenu:r,...n}=e,s=ta(r);return(0,a.jsx)(eU,{...s,...n,ref:t})});tf.displayName="DropdownMenuCheckboxItem",n.forwardRef((e,t)=>{let{__scopeDropdownMenu:r,...n}=e,s=ta(r);return(0,a.jsx)(eK,{...s,...n,ref:t})}).displayName="DropdownMenuRadioGroup";var th=n.forwardRef((e,t)=>{let{__scopeDropdownMenu:r,...n}=e,s=ta(r);return(0,a.jsx)(eB,{...s,...n,ref:t})});th.displayName="DropdownMenuRadioItem";var tx=n.forwardRef((e,t)=>{let{__scopeDropdownMenu:r,...n}=e,s=ta(r);return(0,a.jsx)(eY,{...s,...n,ref:t})});tx.displayName="DropdownMenuItemIndicator";var tg=n.forwardRef((e,t)=>{let{__scopeDropdownMenu:r,...n}=e,s=ta(r);return(0,a.jsx)(eJ,{...s,...n,ref:t})});tg.displayName="DropdownMenuSeparator",n.forwardRef((e,t)=>{let{__scopeDropdownMenu:r,...n}=e,s=ta(r);return(0,a.jsx)(eQ,{...s,...n,ref:t})}).displayName="DropdownMenuArrow";var ty=n.forwardRef((e,t)=>{let{__scopeDropdownMenu:r,...n}=e,s=ta(r);return(0,a.jsx)(e4,{...s,...n,ref:t})});ty.displayName="DropdownMenuSubTrigger";var tv=n.forwardRef((e,t)=>{let{__scopeDropdownMenu:r,...n}=e,s=ta(r);return(0,a.jsx)(e3,{...s,...n,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});tv.displayName="DropdownMenuSubContent";var tb=r(39183),tw=r(32933),tj=r(62881);let tN=(0,tj.Z)("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);n.forwardRef(({className:e,inset:t,children:r,...n},s)=>(0,a.jsxs)(ty,{ref:s,className:(0,N.cn)("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",t&&"pl-8",e),...n,children:[r,a.jsx(tb.Z,{className:"ml-auto h-4 w-4"})]})).displayName=ty.displayName,n.forwardRef(({className:e,...t},r)=>a.jsx(tv,{ref:r,className:(0,N.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t})).displayName=tv.displayName;let tR=n.forwardRef(({className:e,sideOffset:t=4,...r},n)=>a.jsx(td,{children:a.jsx(tu,{ref:n,sideOffset:t,className:(0,N.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r})}));tR.displayName=tu.displayName;let tC=n.forwardRef(({className:e,inset:t,...r},n)=>a.jsx(tp,{ref:n,className:(0,N.cn)("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t&&"pl-8",e),...r}));tC.displayName=tp.displayName,n.forwardRef(({className:e,children:t,checked:r,...n},s)=>(0,a.jsxs)(tf,{ref:s,className:(0,N.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:r,...n,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(tx,{children:a.jsx(tw.Z,{className:"h-4 w-4"})})}),t]})).displayName=tf.displayName,n.forwardRef(({className:e,children:t,...r},n)=>(0,a.jsxs)(th,{ref:n,className:(0,N.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(tx,{children:a.jsx(tN,{className:"h-2 w-2 fill-current"})})}),t]})).displayName=th.displayName,n.forwardRef(({className:e,inset:t,...r},n)=>a.jsx(tm,{ref:n,className:(0,N.cn)("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...r})).displayName=tm.displayName;let tM=n.forwardRef(({className:e,...t},r)=>a.jsx(tg,{ref:r,className:(0,N.cn)("-mx-1 my-1 h-px bg-muted",e),...t}));tM.displayName=tg.displayName;var tk=r(24319),t_=r(40617),tS=r(26754),tD=r(50732),tP=r(58038),tO=r(24061),tA=r(88378),tE=r(98360),tI=r(91350),tT=r(6507);let tF=(0,tj.Z)("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);var tZ=r(94215);let tL=(0,tj.Z)("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]),tz=(0,tj.Z)("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]),tU=(0,tj.Z)("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);var t$=r(19977);function tW(){let{theme:e,setTheme:t,actualTheme:r}=(0,t$.F)();return(0,a.jsxs)(to,{children:[a.jsx(tl,{asChild:!0,children:(0,a.jsxs)(l.z,{variant:"outline",size:"sm",className:"w-9 h-9 p-0 border-slate-600 bg-slate-700/50 hover:bg-slate-600/50",children:["light"===r?a.jsx(tL,{className:"h-4 w-4 text-yellow-500"}):a.jsx(tz,{className:"h-4 w-4 text-blue-400"}),a.jsx("span",{className:"sr-only",children:"Toggle theme"})]})}),(0,a.jsxs)(tR,{align:"end",className:"bg-slate-800 border-slate-700 text-white",children:[(0,a.jsxs)(tC,{onClick:()=>t("light"),className:`hover:bg-slate-700 focus:bg-slate-700 ${"light"===e?"bg-slate-700":""}`,children:[a.jsx(tL,{className:"mr-2 h-4 w-4 text-yellow-500"}),a.jsx("span",{children:"Light"})]}),(0,a.jsxs)(tC,{onClick:()=>t("dark"),className:`hover:bg-slate-700 focus:bg-slate-700 ${"dark"===e?"bg-slate-700":""}`,children:[a.jsx(tz,{className:"mr-2 h-4 w-4 text-blue-400"}),a.jsx("span",{children:"Dark"})]}),(0,a.jsxs)(tC,{onClick:()=>t("system"),className:`hover:bg-slate-700 focus:bg-slate-700 ${"system"===e?"bg-slate-700":""}`,children:[a.jsx(tU,{className:"mr-2 h-4 w-4 text-gray-400"}),a.jsx("span",{children:"System"})]})]})]})}var tV="Dialog",[tK,tq]=(0,d.b)(tV),[tB,tG]=tK(tV),tH=e=>{let{__scopeDialog:t,children:r,open:s,defaultOpen:o,onOpenChange:i,modal:l=!0}=e,d=n.useRef(null),c=n.useRef(null),[u=!1,m]=(0,D.T)({prop:s,defaultProp:o,onChange:i});return(0,a.jsx)(tB,{scope:t,triggerRef:d,contentRef:c,contentId:(0,T.M)(),titleId:(0,T.M)(),descriptionId:(0,T.M)(),open:u,onOpenChange:m,onOpenToggle:n.useCallback(()=>m(e=>!e),[m]),modal:l,children:r})};tH.displayName=tV;var tX="DialogTrigger",tY=n.forwardRef((e,t)=>{let{__scopeDialog:r,...n}=e,s=tG(tX,r),o=(0,S.e)(t,s.triggerRef);return(0,a.jsx)(m.WV.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":ro(s.open),...n,ref:o,onClick:(0,_.M)(e.onClick,s.onOpenToggle)})});tY.displayName=tX;var tJ="DialogPortal",[tQ,t0]=tK(tJ,{forceMount:void 0}),t1=e=>{let{__scopeDialog:t,forceMount:r,children:s,container:o}=e,i=tG(tJ,t);return(0,a.jsx)(tQ,{scope:t,forceMount:r,children:n.Children.map(s,e=>(0,a.jsx)(L.z,{present:r||i.open,children:(0,a.jsx)(Z.h,{asChild:!0,container:o,children:e})}))})};t1.displayName=tJ;var t2="DialogOverlay",t4=n.forwardRef((e,t)=>{let r=t0(t2,e.__scopeDialog),{forceMount:n=r.forceMount,...s}=e,o=tG(t2,e.__scopeDialog);return o.modal?(0,a.jsx)(L.z,{present:n||o.open,children:(0,a.jsx)(t5,{...s,ref:t})}):null});t4.displayName=t2;var t5=n.forwardRef((e,t)=>{let{__scopeDialog:r,...n}=e,s=tG(t2,r);return(0,a.jsx)(en.Z,{as:er.g7,allowPinchZoom:!0,shards:[s.contentRef],children:(0,a.jsx)(m.WV.div,{"data-state":ro(s.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),t3="DialogContent",t7=n.forwardRef((e,t)=>{let r=t0(t3,e.__scopeDialog),{forceMount:n=r.forceMount,...s}=e,o=tG(t3,e.__scopeDialog);return(0,a.jsx)(L.z,{present:n||o.open,children:o.modal?(0,a.jsx)(t6,{...s,ref:t}):(0,a.jsx)(t9,{...s,ref:t})})});t7.displayName=t3;var t6=n.forwardRef((e,t)=>{let r=tG(t3,e.__scopeDialog),s=n.useRef(null),o=(0,S.e)(t,r.contentRef,s);return n.useEffect(()=>{let e=s.current;if(e)return(0,ea.Ry)(e)},[]),(0,a.jsx)(t8,{...e,ref:o,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:(0,_.M)(e.onCloseAutoFocus,e=>{e.preventDefault(),r.triggerRef.current?.focus()}),onPointerDownOutside:(0,_.M)(e.onPointerDownOutside,e=>{let t=e.detail.originalEvent,r=0===t.button&&!0===t.ctrlKey;(2===t.button||r)&&e.preventDefault()}),onFocusOutside:(0,_.M)(e.onFocusOutside,e=>e.preventDefault())})}),t9=n.forwardRef((e,t)=>{let r=tG(t3,e.__scopeDialog),s=n.useRef(!1),o=n.useRef(!1);return(0,a.jsx)(t8,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:t=>{e.onCloseAutoFocus?.(t),t.defaultPrevented||(s.current||r.triggerRef.current?.focus(),t.preventDefault()),s.current=!1,o.current=!1},onInteractOutside:t=>{e.onInteractOutside?.(t),t.defaultPrevented||(s.current=!0,"pointerdown"!==t.detail.originalEvent.type||(o.current=!0));let a=t.target;r.triggerRef.current?.contains(a)&&t.preventDefault(),"focusin"===t.detail.originalEvent.type&&o.current&&t.preventDefault()}})}),t8=n.forwardRef((e,t)=>{let{__scopeDialog:r,trapFocus:s,onOpenAutoFocus:o,onCloseAutoFocus:i,...l}=e,d=tG(t3,r),c=n.useRef(null),u=(0,S.e)(t,c);return(0,E.EW)(),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(I.M,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:o,onUnmountAutoFocus:i,children:(0,a.jsx)(A.XB,{role:"dialog",id:d.contentId,"aria-describedby":d.descriptionId,"aria-labelledby":d.titleId,"data-state":ro(d.open),...l,ref:u,onDismiss:()=>d.onOpenChange(!1)})}),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(rc,{titleId:d.titleId}),(0,a.jsx)(ru,{contentRef:c,descriptionId:d.descriptionId})]})]})}),re="DialogTitle",rt=n.forwardRef((e,t)=>{let{__scopeDialog:r,...n}=e,s=tG(re,r);return(0,a.jsx)(m.WV.h2,{id:s.titleId,...n,ref:t})});rt.displayName=re;var rr="DialogDescription",ra=n.forwardRef((e,t)=>{let{__scopeDialog:r,...n}=e,s=tG(rr,r);return(0,a.jsx)(m.WV.p,{id:s.descriptionId,...n,ref:t})});ra.displayName=rr;var rn="DialogClose",rs=n.forwardRef((e,t)=>{let{__scopeDialog:r,...n}=e,s=tG(rn,r);return(0,a.jsx)(m.WV.button,{type:"button",...n,ref:t,onClick:(0,_.M)(e.onClick,()=>s.onOpenChange(!1))})});function ro(e){return e?"open":"closed"}rs.displayName=rn;var ri="DialogTitleWarning",[rl,rd]=(0,d.k)(ri,{contentName:t3,titleName:re,docsSlug:"dialog"}),rc=({titleId:e})=>{let t=rd(ri),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return n.useEffect(()=>{e&&!document.getElementById(e)&&console.error(r)},[r,e]),null},ru=({contentRef:e,descriptionId:t})=>{let r=rd("DialogDescriptionWarning"),a=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${r.contentName}}.`;return n.useEffect(()=>{let r=e.current?.getAttribute("aria-describedby");t&&r&&!document.getElementById(t)&&console.warn(a)},[a,e,t]),null},rm=r(28671),rp=r(94019);let rf=n.forwardRef(({className:e,...t},r)=>a.jsx(t4,{className:(0,N.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));rf.displayName=t4.displayName;let rh=(0,rm.j)("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),rx=n.forwardRef(({side:e="right",className:t,children:r,...n},s)=>(0,a.jsxs)(t1,{children:[a.jsx(rf,{}),(0,a.jsxs)(t7,{ref:s,className:(0,N.cn)(rh({side:e}),t),...n,children:[r,(0,a.jsxs)(rs,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[a.jsx(rp.Z,{className:"h-4 w-4"}),a.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));rx.displayName=t7.displayName;let rg=({className:e,...t})=>a.jsx("div",{className:(0,N.cn)("flex flex-col space-y-2 text-center sm:text-left",e),...t});rg.displayName="SheetHeader";let ry=n.forwardRef(({className:e,...t},r)=>a.jsx(rt,{ref:r,className:(0,N.cn)("text-lg font-semibold text-foreground",e),...t}));ry.displayName=rt.displayName,n.forwardRef(({className:e,...t},r)=>a.jsx(ra,{ref:r,className:(0,N.cn)("text-sm text-muted-foreground",e),...t})).displayName=ra.displayName;var rv=r(29798),rb=r(90748);function rw({user:e,onLogout:t}){let r=(0,i.usePathname)(),[n,d]=s().useState(!1),c=[{name:"Dashboard",href:"/dashboard",icon:rv.Z,current:"/dashboard"===r},{name:"AI Chat",href:"/chat",icon:t_.Z,current:"/chat"===r},{name:"Analytics",href:"/dashboard/analytics",icon:tS.Z,current:"/dashboard/analytics"===r},{name:"Admin",href:"/dashboard/admin",icon:tP.Z,current:"/dashboard/admin"===r,adminOnly:!0}];return(0,a.jsxs)(tH,{open:n,onOpenChange:d,children:[a.jsx(tY,{asChild:!0,children:(0,a.jsxs)(l.z,{variant:"ghost",className:"md:hidden h-9 w-9 p-0 text-gray-400 hover:text-white hover:bg-slate-700",children:[a.jsx(rb.Z,{className:"h-5 w-5"}),a.jsx("span",{className:"sr-only",children:"Toggle Menu"})]})}),(0,a.jsxs)(rx,{side:"left",className:"bg-slate-900 border-slate-700 w-72",children:[a.jsx(rg,{className:"text-left",children:(0,a.jsxs)(ry,{className:"flex items-center space-x-2 text-white",children:[a.jsx(tE.Z,{className:"h-6 w-6 text-blue-400"}),a.jsx("span",{children:"WRDO Cave"})]})}),(0,a.jsxs)("div",{className:"mt-8 space-y-6",children:[a.jsx("div",{className:"px-3 py-2 bg-slate-800/50 rounded-lg border border-slate-700",children:(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx("div",{className:"h-8 w-8 bg-blue-600 rounded-full flex items-center justify-center",children:a.jsx("span",{className:"text-sm font-medium text-white",children:e.name?.charAt(0).toUpperCase()||e.email.charAt(0).toUpperCase()})})}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-sm font-medium text-white truncate",children:e.name||"User"}),a.jsx("p",{className:"text-xs text-gray-400 truncate",children:e.email})]})]})}),a.jsx("nav",{className:"space-y-1",children:c.map(t=>t.adminOnly&&!e.email?.includes("admin")?null:(0,a.jsxs)(o.default,{href:t.href,onClick:()=>d(!1),className:`
                    group flex items-center px-3 py-2 text-sm font-medium rounded-md transition-colors
                    ${t.current?"bg-blue-600 text-white":"text-gray-300 hover:bg-slate-700 hover:text-white"}
                  `,children:[a.jsx(t.icon,{className:`
                      mr-3 h-5 w-5 flex-shrink-0
                      ${t.current?"text-white":"text-gray-400 group-hover:text-white"}
                    `}),t.name,"AI Chat"===t.name&&a.jsx(k.C,{variant:"secondary",className:"ml-auto bg-green-500/20 text-green-400 text-xs",children:"Live"})]},t.name))}),(0,a.jsxs)("div",{className:"space-y-3 pt-6 border-t border-slate-700",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between px-3",children:[a.jsx("span",{className:"text-sm font-medium text-gray-300",children:"Theme"}),a.jsx(tW,{})]}),(0,a.jsxs)(l.z,{variant:"ghost",className:"w-full justify-start text-gray-300 hover:bg-slate-700 hover:text-white",onClick:()=>{d(!1)},children:[a.jsx(tA.Z,{className:"mr-3 h-5 w-5"}),"Settings"]}),(0,a.jsxs)(l.z,{variant:"ghost",className:"w-full justify-start text-red-400 hover:bg-red-900/20 hover:text-red-300",onClick:()=>{d(!1),t()},children:[a.jsx(tF,{className:"mr-3 h-5 w-5"}),"Sign Out"]})]})]})]})]})}function rj({children:e,className:t,maxWidth:r="xl",padding:n="md"}){return a.jsx("div",{className:(0,N.cn)("mx-auto w-full",{sm:"max-w-sm",md:"max-w-md",lg:"max-w-lg",xl:"max-w-7xl","2xl":"max-w-7xl",full:"max-w-full"}[r],{none:"",sm:"px-4 sm:px-6",md:"px-4 sm:px-6 lg:px-8",lg:"px-6 sm:px-8 lg:px-12"}[n],t),children:e})}var rN=r(12228);let rR=[{name:"Dashboard",href:"/dashboard",icon:tk.Z,current:!1},{name:"AI Chat",href:"/chat",icon:t_.Z,current:!1,badge:"Live"},{name:"Analytics",href:"/dashboard/analytics",icon:tS.Z,current:!1},{name:"AI Intelligence",href:"/dashboard/ai",icon:tD.Z,current:!1}],rC=[{name:"Admin Panel",href:"/dashboard/admin",icon:tP.Z,current:!1},{name:"User Management",href:"/dashboard/admin/users",icon:tO.Z,current:!1},{name:"System Settings",href:"/dashboard/admin/settings",icon:tA.Z,current:!1}];function rM({children:e,user:t,roles:r}){let[s,d]=(0,n.useState)(!1),c=(0,i.usePathname)(),u=(0,i.useRouter)(),{toast:m}=(0,tZ.pm)(),p=r.some(e=>"admin"===e.name||e.permissions.includes("manage:system"))||t.email?.includes("admin"),f=async()=>{try{(await fetch("/api/auth/logout",{method:"POST"})).ok&&(m({title:"Logged out",description:"You have been successfully logged out."}),u.push("/login"),u.refresh())}catch(e){m({title:"Error",description:"Failed to log out. Please try again.",variant:"destructive"})}},h=rR.map(e=>({...e,current:c===e.href})),x=rC.map(e=>({...e,current:c===e.href}));return a.jsx(rN.ErrorBoundary,{children:(0,a.jsxs)("div",{className:"flex h-screen bg-slate-900",children:[a.jsx("div",{className:"hidden lg:flex lg:w-64 lg:flex-col lg:fixed lg:inset-y-0 bg-slate-800/95 backdrop-blur-sm border-r border-slate-700/50",children:a.jsx(()=>(0,a.jsxs)("div",{className:"flex flex-col h-full",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2 p-6 border-b border-slate-700",children:[a.jsx(tE.Z,{className:"h-8 w-8 text-blue-400"}),a.jsx("span",{className:"text-xl font-bold text-white",children:"WRDO Cave"})]}),(0,a.jsxs)("nav",{className:"flex-1 p-4 space-y-2 overflow-y-auto",children:[h.map(e=>(0,a.jsxs)(o.default,{href:e.href,className:`group flex items-center justify-between px-3 py-2 rounded-lg text-sm font-medium transition-all duration-200 ${e.current?"bg-blue-600 text-white shadow-lg":"text-gray-300 hover:text-white hover:bg-slate-700"}`,children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[a.jsx(e.icon,{className:`h-5 w-5 ${e.current?"text-white":"text-gray-400 group-hover:text-white"}`}),a.jsx("span",{children:e.name})]}),e.badge&&a.jsx(k.C,{variant:"secondary",className:"bg-green-500/20 text-green-400 text-xs",children:e.badge})]},e.name)),p&&(0,a.jsxs)("div",{className:"pt-4 mt-4 border-t border-slate-700",children:[a.jsx("p",{className:"px-3 text-xs font-semibold text-gray-400 uppercase tracking-wider mb-2",children:"Administration"}),x.map(e=>(0,a.jsxs)(o.default,{href:e.href,className:`group flex items-center space-x-3 px-3 py-2 rounded-lg text-sm font-medium transition-all duration-200 ${e.current?"bg-blue-600 text-white shadow-lg":"text-gray-300 hover:text-white hover:bg-slate-700"}`,children:[a.jsx(e.icon,{className:`h-5 w-5 ${e.current?"text-white":"text-gray-400 group-hover:text-white"}`}),a.jsx("span",{children:e.name})]},e.name))]})]})]}),{})}),a.jsx("div",{className:"lg:hidden",children:a.jsx(rw,{user:t,onLogout:f})}),(0,a.jsxs)("div",{className:"flex-1 lg:ml-64",children:[a.jsx("header",{className:"bg-slate-800/50 backdrop-blur-sm border-b border-slate-700/50 sticky top-0 z-40",children:a.jsx("div",{className:"px-4 sm:px-6 lg:px-8",children:(0,a.jsxs)("div",{className:"flex items-center justify-between h-16",children:[a.jsx("div",{className:"flex items-center space-x-4",children:(0,a.jsxs)("div",{className:"hidden lg:flex items-center space-x-2",children:[a.jsx(tE.Z,{className:"h-6 w-6 text-blue-400"}),a.jsx("span",{className:"text-lg font-semibold text-white",children:"/dashboard"===c?"Dashboard":"/chat"===c?"AI Chat":c.includes("/admin")?"Administration":"WRDO Cave"})]})}),(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsxs)(l.z,{variant:"ghost",size:"sm",className:"hidden sm:flex h-9 w-9 p-0 text-gray-400 hover:text-white hover:bg-slate-700",children:[a.jsx(tI.Z,{className:"h-4 w-4"}),a.jsx("span",{className:"sr-only",children:"Search"})]}),(0,a.jsxs)(l.z,{variant:"ghost",size:"sm",className:"hidden sm:flex h-9 w-9 p-0 text-gray-400 hover:text-white hover:bg-slate-700 relative",children:[a.jsx(tT.Z,{className:"h-4 w-4"}),a.jsx("span",{className:"sr-only",children:"Notifications"}),a.jsx("span",{className:"absolute -top-1 -right-1 h-3 w-3 bg-red-500 rounded-full"})]}),a.jsx(tW,{}),a.jsx("div",{className:"hidden lg:block",children:(0,a.jsxs)(to,{children:[a.jsx(tl,{asChild:!0,children:a.jsx(l.z,{variant:"ghost",className:"relative h-9 w-9 rounded-full",children:(0,a.jsxs)(R,{className:"h-9 w-9",children:[a.jsx(C,{src:t.image||"",alt:t.name||t.email}),a.jsx(M,{className:"bg-blue-600 text-white",children:(t.name||t.email).charAt(0).toUpperCase()})]})})}),(0,a.jsxs)(tR,{className:"w-56 bg-slate-800 border-slate-700",align:"end",forceMount:!0,children:[a.jsx("div",{className:"flex items-center justify-start gap-2 p-2",children:(0,a.jsxs)("div",{className:"flex flex-col space-y-1 leading-none",children:[a.jsx("p",{className:"font-medium text-white",children:t.name||"User"}),a.jsx("p",{className:"w-[200px] truncate text-sm text-gray-400",children:t.email})]})}),a.jsx(tM,{className:"bg-slate-700"}),(0,a.jsxs)(tC,{className:"text-gray-300 hover:text-white hover:bg-slate-700",children:[a.jsx(tA.Z,{className:"mr-2 h-4 w-4"}),"Settings"]}),(0,a.jsxs)(tC,{className:"text-red-400 hover:text-red-300 hover:bg-red-900/20",onClick:f,children:[a.jsx(tF,{className:"mr-2 h-4 w-4"}),"Log out"]})]})]})})]})]})})}),a.jsx("main",{className:"flex-1 overflow-y-auto",children:a.jsx(rj,{className:"py-6 sm:py-8",children:a.jsx(rN.ErrorBoundary,{children:e})})})]})]})})}},50732:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});let a=(0,r(62881).Z)("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]])},39183:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});let a=(0,r(62881).Z)("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]])},23510:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>u,dynamic:()=>c});var a=r(19510),n=r(61085),s=r(90455),o=r(97220),i=r(68570);let l=(0,i.createProxy)(String.raw`/home/ubuntu/wrdo-cave-ultra-build/components/dashboard/dashboard-layout.tsx#DashboardLayout`),d=(0,i.createProxy)(String.raw`/home/ubuntu/wrdo-cave-ultra-build/components/admin/admin-dashboard.tsx#AdminDashboard`),c="force-dynamic";async function u(){let e=await (0,s.y_)();e||(0,n.redirect)("/login");let t=await (0,o.Jm)(e.user.id);return await (0,o.N$)(e.user.id,"read:admin")||(0,n.redirect)("/dashboard"),a.jsx(l,{user:e.user,roles:t,children:(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-white",children:"Admin Dashboard"}),a.jsx("p",{className:"text-gray-400 mt-2",children:"System administration and management console."})]}),a.jsx(d,{user:e.user})]})})}},13321:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>a});let a=(0,r(68570).createProxy)(String.raw`/home/ubuntu/wrdo-cave-ultra-build/app/dashboard/layout.tsx#default`)},90455:(e,t,r)=>{"use strict";r.d(t,{ed:()=>d,sd:()=>u,y_:()=>c}),r(98691);var a=r(71615),n=r(86890),s=r(41463);let o=new TextEncoder().encode(process.env.JWT_SECRET||"wrdo-cave-ultra-dev-secret-key-2025");async function i(e){return await new n.N({userId:e.id,email:e.email,name:e.name,image:e.image}).setProtectedHeader({alg:"HS256"}).setIssuedAt().setExpirationTime("30d").sign(o)}async function l(e){try{let{payload:t}=await (0,s._)(e,o);return{id:t.userId,email:t.email,name:t.name,image:t.image,createdAt:new Date,updatedAt:new Date}}catch(e){return console.error("JWT verification failed:",e),null}}async function d(e){let t=await i(e),r=new Date(Date.now()+2592e6);return(0,a.cookies)().set("session-token",t,{expires:r,httpOnly:!0,secure:!0,sameSite:"lax",path:"/"}),t}async function c(){try{let e=a.cookies().get("session-token")?.value;if(!e)return null;let t=await l(e);if(!t)return null;return{user:t,expires:new Date(Date.now()+2592e6)}}catch(e){return console.error("Error getting current session:",e),null}}async function u(){(0,a.cookies)().set("session-token","",{expires:new Date(0),httpOnly:!0,secure:!0,sameSite:"lax",path:"/"})}},9487:(e,t,r)=>{"use strict";r.d(t,{_:()=>n});var a=r(53524);let n=globalThis.prisma??new a.PrismaClient},97220:(e,t,r)=>{"use strict";r.d(t,{Jm:()=>n,N$:()=>s,t0:()=>i});var a=r(9487);async function n(e){return[{id:"mock-admin-role",name:"admin",description:"Full system administrator",permissions:["manage:system"]}]}async function s(e,t){return!0}let o={admin:{name:"admin",description:"Full system administrator",permissions:["manage:system"]},manager:{name:"manager",description:"Team manager with extended permissions",permissions:["read:dashboard","write:dashboard","read:users","write:users","read:projects","write:projects","read:chat","write:chat","read:ai","write:ai"]},user:{name:"user",description:"Standard user",permissions:["read:dashboard","write:dashboard","read:projects","write:projects","read:chat","write:chat","read:ai"]},viewer:{name:"viewer",description:"Read-only access",permissions:["read:dashboard","read:projects","read:chat"]}};async function i(){for(let[e,t]of Object.entries(o))await a._.userRole.upsert({where:{name:t.name},update:{description:t.description,permissions:t.permissions},create:{name:t.name,description:t.description,permissions:t.permissions}})}},61085:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{ReadonlyURLSearchParams:function(){return o},RedirectType:function(){return a.RedirectType},notFound:function(){return n.notFound},permanentRedirect:function(){return a.permanentRedirect},redirect:function(){return a.redirect}});let a=r(83953),n=r(16399);class s extends Error{constructor(){super("Method unavailable on `ReadonlyURLSearchParams`. Read more: https://nextjs.org/docs/app/api-reference/functions/use-search-params#updating-searchparams")}}class o extends URLSearchParams{append(){throw new s}delete(){throw new s}set(){throw new s}sort(){throw new s}}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},16399:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{isNotFoundError:function(){return n},notFound:function(){return a}});let r="NEXT_NOT_FOUND";function a(){let e=Error(r);throw e.digest=r,e}function n(e){return"object"==typeof e&&null!==e&&"digest"in e&&e.digest===r}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},8586:(e,t)=>{"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"RedirectStatusCode",{enumerable:!0,get:function(){return r}}),function(e){e[e.SeeOther=303]="SeeOther",e[e.TemporaryRedirect=307]="TemporaryRedirect",e[e.PermanentRedirect=308]="PermanentRedirect"}(r||(r={})),("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},83953:(e,t,r)=>{"use strict";var a;Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{RedirectType:function(){return a},getRedirectError:function(){return l},getRedirectStatusCodeFromError:function(){return f},getRedirectTypeFromError:function(){return p},getURLFromRedirectError:function(){return m},isRedirectError:function(){return u},permanentRedirect:function(){return c},redirect:function(){return d}});let n=r(54580),s=r(72934),o=r(8586),i="NEXT_REDIRECT";function l(e,t,r){void 0===r&&(r=o.RedirectStatusCode.TemporaryRedirect);let a=Error(i);a.digest=i+";"+t+";"+e+";"+r+";";let s=n.requestAsyncStorage.getStore();return s&&(a.mutableCookies=s.mutableCookies),a}function d(e,t){void 0===t&&(t="replace");let r=s.actionAsyncStorage.getStore();throw l(e,t,(null==r?void 0:r.isAction)?o.RedirectStatusCode.SeeOther:o.RedirectStatusCode.TemporaryRedirect)}function c(e,t){void 0===t&&(t="replace");let r=s.actionAsyncStorage.getStore();throw l(e,t,(null==r?void 0:r.isAction)?o.RedirectStatusCode.SeeOther:o.RedirectStatusCode.PermanentRedirect)}function u(e){if("object"!=typeof e||null===e||!("digest"in e)||"string"!=typeof e.digest)return!1;let[t,r,a,n]=e.digest.split(";",4),s=Number(n);return t===i&&("replace"===r||"push"===r)&&"string"==typeof a&&!isNaN(s)&&s in o.RedirectStatusCode}function m(e){return u(e)?e.digest.split(";",3)[2]:null}function p(e){if(!u(e))throw Error("Not a redirect error");return e.digest.split(";",2)[1]}function f(e){if(!u(e))throw Error("Not a redirect error");return Number(e.digest.split(";",4)[3])}(function(e){e.push="push",e.replace="replace"})(a||(a={})),("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},79925:e=>{"use strict";var t=Object.defineProperty,r=Object.getOwnPropertyDescriptor,a=Object.getOwnPropertyNames,n=Object.prototype.hasOwnProperty,s={};function o(e){var t;let r=["path"in e&&e.path&&`Path=${e.path}`,"expires"in e&&(e.expires||0===e.expires)&&`Expires=${("number"==typeof e.expires?new Date(e.expires):e.expires).toUTCString()}`,"maxAge"in e&&"number"==typeof e.maxAge&&`Max-Age=${e.maxAge}`,"domain"in e&&e.domain&&`Domain=${e.domain}`,"secure"in e&&e.secure&&"Secure","httpOnly"in e&&e.httpOnly&&"HttpOnly","sameSite"in e&&e.sameSite&&`SameSite=${e.sameSite}`,"partitioned"in e&&e.partitioned&&"Partitioned","priority"in e&&e.priority&&`Priority=${e.priority}`].filter(Boolean),a=`${e.name}=${encodeURIComponent(null!=(t=e.value)?t:"")}`;return 0===r.length?a:`${a}; ${r.join("; ")}`}function i(e){let t=new Map;for(let r of e.split(/; */)){if(!r)continue;let e=r.indexOf("=");if(-1===e){t.set(r,"true");continue}let[a,n]=[r.slice(0,e),r.slice(e+1)];try{t.set(a,decodeURIComponent(null!=n?n:"true"))}catch{}}return t}function l(e){var t,r;if(!e)return;let[[a,n],...s]=i(e),{domain:o,expires:l,httponly:u,maxage:m,path:p,samesite:f,secure:h,partitioned:x,priority:g}=Object.fromEntries(s.map(([e,t])=>[e.toLowerCase(),t]));return function(e){let t={};for(let r in e)e[r]&&(t[r]=e[r]);return t}({name:a,value:decodeURIComponent(n),domain:o,...l&&{expires:new Date(l)},...u&&{httpOnly:!0},..."string"==typeof m&&{maxAge:Number(m)},path:p,...f&&{sameSite:d.includes(t=(t=f).toLowerCase())?t:void 0},...h&&{secure:!0},...g&&{priority:c.includes(r=(r=g).toLowerCase())?r:void 0},...x&&{partitioned:!0}})}((e,r)=>{for(var a in r)t(e,a,{get:r[a],enumerable:!0})})(s,{RequestCookies:()=>u,ResponseCookies:()=>m,parseCookie:()=>i,parseSetCookie:()=>l,stringifyCookie:()=>o}),e.exports=((e,s,o,i)=>{if(s&&"object"==typeof s||"function"==typeof s)for(let o of a(s))n.call(e,o)||void 0===o||t(e,o,{get:()=>s[o],enumerable:!(i=r(s,o))||i.enumerable});return e})(t({},"__esModule",{value:!0}),s);var d=["strict","lax","none"],c=["low","medium","high"],u=class{constructor(e){this._parsed=new Map,this._headers=e;let t=e.get("cookie");if(t)for(let[e,r]of i(t))this._parsed.set(e,{name:e,value:r})}[Symbol.iterator](){return this._parsed[Symbol.iterator]()}get size(){return this._parsed.size}get(...e){let t="string"==typeof e[0]?e[0]:e[0].name;return this._parsed.get(t)}getAll(...e){var t;let r=Array.from(this._parsed);if(!e.length)return r.map(([e,t])=>t);let a="string"==typeof e[0]?e[0]:null==(t=e[0])?void 0:t.name;return r.filter(([e])=>e===a).map(([e,t])=>t)}has(e){return this._parsed.has(e)}set(...e){let[t,r]=1===e.length?[e[0].name,e[0].value]:e,a=this._parsed;return a.set(t,{name:t,value:r}),this._headers.set("cookie",Array.from(a).map(([e,t])=>o(t)).join("; ")),this}delete(e){let t=this._parsed,r=Array.isArray(e)?e.map(e=>t.delete(e)):t.delete(e);return this._headers.set("cookie",Array.from(t).map(([e,t])=>o(t)).join("; ")),r}clear(){return this.delete(Array.from(this._parsed.keys())),this}[Symbol.for("edge-runtime.inspect.custom")](){return`RequestCookies ${JSON.stringify(Object.fromEntries(this._parsed))}`}toString(){return[...this._parsed.values()].map(e=>`${e.name}=${encodeURIComponent(e.value)}`).join("; ")}},m=class{constructor(e){var t,r,a;this._parsed=new Map,this._headers=e;let n=null!=(a=null!=(r=null==(t=e.getSetCookie)?void 0:t.call(e))?r:e.get("set-cookie"))?a:[];for(let e of Array.isArray(n)?n:function(e){if(!e)return[];var t,r,a,n,s,o=[],i=0;function l(){for(;i<e.length&&/\s/.test(e.charAt(i));)i+=1;return i<e.length}for(;i<e.length;){for(t=i,s=!1;l();)if(","===(r=e.charAt(i))){for(a=i,i+=1,l(),n=i;i<e.length&&"="!==(r=e.charAt(i))&&";"!==r&&","!==r;)i+=1;i<e.length&&"="===e.charAt(i)?(s=!0,i=n,o.push(e.substring(t,a)),t=i):i=a+1}else i+=1;(!s||i>=e.length)&&o.push(e.substring(t,e.length))}return o}(n)){let t=l(e);t&&this._parsed.set(t.name,t)}}get(...e){let t="string"==typeof e[0]?e[0]:e[0].name;return this._parsed.get(t)}getAll(...e){var t;let r=Array.from(this._parsed.values());if(!e.length)return r;let a="string"==typeof e[0]?e[0]:null==(t=e[0])?void 0:t.name;return r.filter(e=>e.name===a)}has(e){return this._parsed.has(e)}set(...e){let[t,r,a]=1===e.length?[e[0].name,e[0].value,e[0]]:e,n=this._parsed;return n.set(t,function(e={name:"",value:""}){return"number"==typeof e.expires&&(e.expires=new Date(e.expires)),e.maxAge&&(e.expires=new Date(Date.now()+1e3*e.maxAge)),(null===e.path||void 0===e.path)&&(e.path="/"),e}({name:t,value:r,...a})),function(e,t){for(let[,r]of(t.delete("set-cookie"),e)){let e=o(r);t.append("set-cookie",e)}}(n,this._headers),this}delete(...e){let[t,r,a]="string"==typeof e[0]?[e[0]]:[e[0].name,e[0].path,e[0].domain];return this.set({name:t,path:r,domain:a,value:"",expires:new Date(0)})}[Symbol.for("edge-runtime.inspect.custom")](){return`ResponseCookies ${JSON.stringify(Object.fromEntries(this._parsed))}`}toString(){return[...this._parsed.values()].map(o).join("; ")}}},92044:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{RequestCookies:function(){return a.RequestCookies},ResponseCookies:function(){return a.ResponseCookies},stringifyCookie:function(){return a.stringifyCookie}});let a=r(79925)}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),a=t.X(0,[9276,3181,9303,6775,5795,4437,5647,1079,7793],()=>r(7804));module.exports=a})();